{"version":3,"sources":["webpack:///./src/utils/geometry.js","webpack:///./src/utils/model.js","webpack:///./src/firebase/index.js","webpack:///src/components/organisms/AuthDialog.vue","webpack:///./src/components/organisms/AuthDialog.vue?9911","webpack:///./src/components/organisms/AuthDialog.vue","webpack:///./src/store/user/types.js","webpack:///src/App.vue","webpack:///./src/App.vue?bf5f","webpack:///./src/App.vue","webpack:///./src/store/layouts/types.js","webpack:///src/components/pages/AppCommonLayout.vue","webpack:///./src/components/pages/AppCommonLayout.vue?e01d","webpack:///./src/components/pages/AppCommonLayout.vue","webpack:///./src/constants/index.js","webpack:///./src/utils/canvas.js","webpack:///src/components/atoms/svg/SvgRectangle.vue","webpack:///./src/components/atoms/svg/SvgRectangle.vue?3cd8","webpack:///./src/components/atoms/svg/SvgRectangle.vue","webpack:///src/components/atoms/svg/SvgCanvas.vue","webpack:///./src/components/atoms/svg/SvgCanvas.vue?1402","webpack:///./src/components/atoms/svg/SvgCanvas.vue","webpack:///src/components/atoms/svg/SvgText.vue","webpack:///./src/components/atoms/svg/SvgText.vue?f30d","webpack:///src/components/molecules/svg/SvgTextRectangle.vue","webpack:///./src/components/atoms/svg/SvgText.vue","webpack:///./src/components/molecules/svg/SvgTextRectangle.vue?3be3","webpack:///./src/components/molecules/svg/SvgTextRectangle.vue","webpack:///src/components/molecules/svg/SvgConnector.vue","webpack:///./src/components/molecules/svg/SvgConnector.vue?e7d8","webpack:///./src/components/molecules/svg/SvgConnector.vue","webpack:///src/components/molecules/FloatTextInput.vue","webpack:///./src/components/molecules/FloatTextInput.vue?1cf6","webpack:///./src/components/molecules/FloatTextInput.vue","webpack:///src/components/molecules/FloatEditMenu.vue","webpack:///./src/components/molecules/FloatEditMenu.vue?1738","webpack:///./src/components/molecules/FloatEditMenu.vue","webpack:///src/components/molecules/ScaleToolBox.vue","webpack:///./src/components/molecules/ScaleToolBox.vue?2801","webpack:///src/components/organisms/MapCanvas.vue","webpack:///./src/components/molecules/ScaleToolBox.vue","webpack:///./src/components/organisms/MapCanvas.vue?27e4","webpack:///./src/components/organisms/MapCanvas.vue","webpack:///./src/store/nodes/types.js","webpack:///./src/store/files/types.js","webpack:///./src/store/settings/types.js","webpack:///src/components/containers/MapCanvasContainer.vue","webpack:///./src/components/containers/MapCanvasContainer.vue?97be","webpack:///./src/components/containers/MapCanvasContainer.vue","webpack:///src/components/organisms/InviteUserDialog.vue","webpack:///./src/components/organisms/InviteUserDialog.vue?7251","webpack:///./src/components/organisms/MapHelpDialog.vue?03d0","webpack:///src/components/containers/MapMenu.vue","webpack:///./src/components/organisms/InviteUserDialog.vue","webpack:///./src/components/organisms/MapHelpDialog.vue","webpack:///src/components/organisms/MapHelpDialog.vue","webpack:///./src/components/containers/MapMenu.vue?548a","webpack:///./src/components/containers/MapMenu.vue","webpack:///src/components/organisms/MapLeftDrawer.vue","webpack:///./src/components/organisms/MapLeftDrawer.vue?604f","webpack:///src/components/containers/MapLeftDrawerContainer.vue","webpack:///./src/components/organisms/MapLeftDrawer.vue","webpack:///./src/components/containers/MapLeftDrawerContainer.vue?885e","webpack:///./src/components/containers/MapLeftDrawerContainer.vue","webpack:///src/components/organisms/WorkSpace.vue","webpack:///./src/components/organisms/WorkSpace.vue?73dc","webpack:///src/components/containers/WorkSpaceContainer.vue","webpack:///./src/components/organisms/WorkSpace.vue","webpack:///./src/components/containers/WorkSpaceContainer.vue?d164","webpack:///./src/components/containers/WorkSpaceContainer.vue","webpack:///./src/router/index.js","webpack:///./src/store/layouts/index.js","webpack:///./src/store/layouts/actions.js","webpack:///./src/store/layouts/mutations.js","webpack:///./src/store/layouts/getters.js","webpack:///./src/store/nodes/actions.js","webpack:///./src/store/nodes/mutations.js","webpack:///./src/store/nodes/getters.js","webpack:///./src/store/nodes/index.js","webpack:///./src/store/user/actions.js","webpack:///./src/store/user/mutations.js","webpack:///./src/store/user/getters.js","webpack:///./src/store/user/index.js","webpack:///./src/store/files/index.js","webpack:///./src/store/files/actions.js","webpack:///./src/store/files/mutations.js","webpack:///./src/store/files/getters.js","webpack:///./src/store/settings/index.js","webpack:///./src/store/settings/actions.js","webpack:///./src/store/settings/mutations.js","webpack:///./src/store/settings/getters.js","webpack:///./src/store/index.js","webpack:///./src/utils/windowState.js","webpack:///./src/utils/isMobile.js","webpack:///./src/utils/trackJs.js","webpack:///./src/main.js","webpack:///./src/assets/images/googlelogo_color_90x40dp.png"],"names":["getCenterOfRectangle","rectangle","x","width","y","height","getDistance","p1","p2","Math","pow","getClosestRectangleByPoint","_ref5","rectangles","point","keys","keys_default","length","ret","minD","Number","POSITIVE_INFINITY","forEach","key","d","_ref4","_ref3","getRelationBetweenRectangleAndPoint","getDistanceBetweenRectangleAndPoint","calcFamilyPositions","nodes","sizes","familySizes","parentKey","positions","parentNode","parentPosition","children","familySize","left","NODE_MARGIN_X","NODE_ADDITIONAL_MARGIN_X_RATE","top","othersHeight","childKey","childSize","childFamilySize","constants_NODE_MARGIN_Y","calcFamilySizes","size","reduce","p","c","childWidth","childHeight","max","assign_default","getParentKey","find","indexOf","getFamilyKeys","_ref6","familyKeys","push","childFamilyKeys","concat","getUpdatedNodesWhenCreateChildNode","_ref7","_updatedNodes","_ref7$newKey","newKey","undefined","random","node","model_createNode","parent","nextChildren","updatedNodes","defineProperty_default","getUpdatedNodesWhenDeleteNode","_ref9","deleteKey","nextParentNode","filter","copyNode","getUpdatedNodesWhenChangeParent","_ref11","targetKey","newParentKey","_ref11$order","order","currentParentKey","updatedCurrentParent","currentChildIndex","splice","_Object$assign3","updatedParent","model_isConflict","_ref18","isConflict","some","constants_ROOT_NODE","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","src_firebase","AuthDialog","Boolean","GoogleAuthProvider","provider","organisms_AuthDialog","render","_vm","this","_h","$createElement","_c","_self","attrs","row","justify-center","persistent","max-width","model","value","callback","$$v","expression","staticClass","_v","color","on","click","authGoogle","src","__webpack_require__","staticRenderFns","components_organisms_AuthDialog","normalizeComponent","ssrContext","getterTypes","actionTypes","mutationTypes","App","computed","extends_default","Object","vuex_esm","user","loadUser","methods","selectortype_template_index_0_src_App","id","authorityLoading","_e","needAuth","src_App","App_normalizeComponent","types_getterTypes","types_actionTypes","types_mutationTypes","AppCommonLayout","reload","pages_AppCommonLayout","fixed","clipped","app","leftDrawer","input","val","setLeftDrawer","name","dark","clipped-left","dense","style","$vuetify","breakpoint","smAndUp","$event","stopPropagation","flat","$router","staticStyle","margin-left","bottom","offset-y","slot","icon","photoURL","_s","displayName","signOut","ref","fill-height","components_pages_AppCommonLayout","AppCommonLayout_normalizeComponent","CONNECTOR_INNTER_MARGIN_X","obj","text","backgroundColor","isSameNode","n1","n2","join","model_createDefaultNodes","getPoint","e","rect","currentTarget","getBoundingClientRect","dx","window","pageXOffset","dy","pageYOffset","isTouch","touch","touches","pageX","pageY","SvgRectangle","String","svg_SvgRectangle","rx","ry","stroke","stroke-width","strokeWidth","fill","stroke-dasharray","strokeDasharray","stroke-dashoffset","strokeDashoffset","atoms_svg_SvgRectangle","SvgRectangle_normalizeComponent","SvgCanvas","scale","downP","beforeMoveP","arguments","wheelDeltaX","wheelDeltaY","now","shiftKey","selectRectangle","domP","nextScale","svg_SvgCanvas","font-family","viewBox","canvasWidth","canvasHeight","mousemove","preventDefault","$isMobile","any","canvasCursorMove","mousedown","target","canvasCursorDownSelf","mouseup","canvasCursorUpSelf","canvasCursorUp","mousewheel","canvasWheel","touchmove","touchstart","touchend","_t","atoms_svg_SvgCanvas","SvgCanvas_normalizeComponent","SvgText","getBBox","svg_SvgText","font-size","fontSize","font-weight","fontWeight","SvgTextRectangle","SvgText_normalizeComponent","textWidth","textPaddingX","_this","adjustTextWidth","bbox","_this2","svg_SvgTextRectangle","_l","l","i","refInFor","textX","textY","textHeight","textFill","molecules_svg_SvgTextRectangle","SvgTextRectangle_normalizeComponent","SvgConnector","svg_SvgConnector","sx","sy","qx","qy","ex","ey","molecules_svg_SvgConnector","SvgConnector_normalizeComponent","FloatTextInput","molecules_FloatTextInput","multi-line","hide-details","autofocus","rows","keyup","_k","keyCode","done","blur","_value","components_molecules_FloatTextInput","FloatTextInput_normalizeComponent","FloatEditMenu","molecules_FloatEditMenu","root","small","outline","$emit","clickDelete","right","timeout","snackbar","components_molecules_FloatEditMenu","FloatEditMenu_normalizeComponent","ScaleToolBox","molecules_ScaleToolBox","step","min","scaleRate","MapCanvas","ScaleToolBox_normalizeComponent","clearZoom","uid","write","MIN_SCALE_RATE","MAX_SCALE_RATE","rate","editTextTarget","_ref2","_ref15","parentSize","childPosition","isChildLeftFromParent","nodePositions","nodeSizes","insertInformationOfMovingNodes","_ref16","newChildOrder","start","movingTargetIndex","youngerBrotherPosition","elderBrotherKey","elderBrotherPosition","elderBrotherSize","elderBrotherBottom","movingKey","_ref","recP","recS","margin","coveredRec","rectangleCoveringAllNode","heightRate","getPostionAfterChangeScale","to","focus","_this3","resolve","movingNodePositions","_ref3$shift","shift","_this4","adjustParentWithMoving","_ref12","movingPositions","targetRectangle","closestKey","closestNode","closestRectangle","targetCenter","isElder","closestParentKey","childIndex","selectedNodes","multi","_this5","viewRectangle","next","_this6","database","getKey","_ref8","brotherKey","_ref8$newKey","pop","brotherIndex","editMenuTarget","defaultNodeProps","_ref10","deleteKeys","currentNodes","clearSelect","createNode","deleteNode","_ref13","baseKey","baseNode","index","toKey","up","_ref14","dif","currentIndex","nextIndex","nodeViewY","nodeViewRight","_this7","outer","inner","rec","organisms_MapCanvas","tabindex","canWrite","getFocus","keydown","ctrlKey","altKey","metaKey","keydownEnter","keydownShiftEnter","moveSelect","button","changeOrder","keydownSpace","keydownDelete","move","zoom","nativeOn","connector","connectorOfMovingNodes","NODE_MARGIN_Y","class","moving-origin","editingText","calcSize","nodeCursorDown","nodeCursorUp","changeScaleRate","editTextTargetNode","movingNodeCount","isMultiSelect","editTextTargetPosition","doneEditText","ROOT_NODE","editMenuTargetPosition","editText","readyEditText","addBrother","addChild","delete","components_organisms_MapCanvas","MapCanvas_normalizeComponent","nodes_types_getterTypes","nodes_types_actionTypes","nodes_types_mutationTypes","files_types_getterTypes","files_types_actionTypes","files_types_mutationTypes","settings_types_getterTypes","settings_types_actionTypes","settings_types_mutationTypes","MapCanvasContainer","nodeColor","textColor","fileKey","message","disconnect","containers_MapCanvasContainer","fileAuthority","updateNodes","setSelectedNodes","undo","redo","components_containers_MapCanvasContainer","MapCanvasContainer_normalizeComponent","InviteUserDialog","publicFileLocal","publicReadOnlyLocal","readOnly","organisms_InviteUserDialog","dialog","label","disabled","canEditPublic","setStatus","error-messages","emailErrors","required","email","invite","organisms_MapHelpDialog","two-line","subheader","avatar","MapMenu","InviteUserDialog_normalizeComponent","MapHelpDialog","MapHelpDialog_normalizeComponent","public","publicFile","containers_MapMenu","publicReadOnly","components_containers_MapMenu","MapMenu_normalizeComponent","MapLeftDrawer","vue_color_min","mapCanvas","svgCanvas","$el","XMLSerializer","dom","fileName","blob","organisms_MapLeftDrawer","grow","light","href","background","showNodeColorPicker","hex","showTextColorPicker","printSvg","MapLeftDrawerContainer","MapLeftDrawer_normalizeComponent","props","containers_MapLeftDrawerContainer","file","changeNodeColor","changeTextColor","repairFile","components_containers_MapLeftDrawerContainer","MapLeftDrawerContainer_normalizeComponent","WorkSpace","sortable","sharedFiles","files","sharedFileAuthorities","fileAuthorities","currentFiles","organisms_WorkSpace","xs6","items","single-line","dataKind","hideEditTools","fab","createFile","headers","fileList","pagination","hide-actions","must-sort","expand","update:pagination","scopedSlots","_u","fn","params","item","nodeCount","Date","created","toLocaleString","updated","lazy","counter","change","changeName","deleteFile","pages","$set","WorkSpaceContainer","WorkSpace_normalizeComponent","loadFiles","containers_WorkSpaceContainer","updateFiles","deleteFiles","components_containers_WorkSpaceContainer","WorkSpaceContainer_normalizeComponent","vue_esm","use","vue_router_esm","router","mode","routes","path","component","components","content","headerIconList","layouts","namespaced","state","modules","actions","context","commit","mutations","getters","updates","ServerValue","TIMESTAMP","update","off","connect","commentsRef","data","initialLoading","promise_default","a","nodes_actions","_actionTypes$DISCONNE","dispatch","diff","_ref17","current","getNodeDiff","reject","stacks","undoStacks","Error","nextMerged","redoStacks","_ref19","rescueConflict","nodes_mutations","_mutationTypes$UPDATE","set","_ref2$selectedNodes","stack","nodes_getters","_getterTypes$NODES$ge","user_actions","_actionTypes$LOAD_USE","auth","onAuthStateChanged","getRedirectResult","then","result","catch","error","console","log","code","user_mutations","_mutationTypes$SET_US","user_getters","_getterTypes$USER$get","model_createUser","store_files","_actionTypes$LOAD_FIL","currentUser","isMyFile","once","snapshot","exists","payload","workSpace","fileKeys","shredFileKeys","_ref2$files","_ref3$file","child","users","newFile","model_createFile","status","mutations__mutationTypes$UPDATE","_getterTypes$FILES$ge","settings","_actionTypes$SET_NODE","_mutationTypes$SET_NO","_getterTypes$NODE_COL","store","Store","strict","store_nodes","store_user","windowStatePlugin","install","Vue","scrollX","scrollY","onResize","document","documentElement","clientWidth","clientHeight","addEventListener","util","defineReactive","prototype","isMobile","isMobile_plugin","trackJs","track","config","errorHandler","err","vm","info","$options","propsData","infoMessage","vuetify_default","productionTip","el","template","module","exports"],"mappings":"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","file":"static/js/app.9d9c0fb787ba713397b1.js","sourcesContent":["export function getCoveredRectangle ({ positions, sizes }) {\n  const keys = Object.keys(positions).filter(key => {\n    return positions[key] && sizes[key]\n  })\n  if (keys.length === 0) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    }\n  }\n  let recP = keys.reduce(\n    (p, key) => {\n      return {\n        x: Math.min(p.x, positions[key].x),\n        y: Math.min(p.y, positions[key].y)\n      }\n    },\n    {\n      x: positions[keys[0]].x,\n      y: positions[keys[0]].y\n    }\n  )\n  const recS = keys.reduce(\n    (p, key) => {\n      return {\n        width: Math.max(p.width, positions[key].x + sizes[key].width - recP.x),\n        height: Math.max(\n          p.height,\n          positions[key].y + sizes[key].height - recP.y\n        )\n      }\n    },\n    {\n      width: sizes[keys[0]].width,\n      height: sizes[keys[0]].height\n    }\n  )\n  return {\n    x: recP.x,\n    y: recP.y,\n    width: recS.width,\n    height: recS.height\n  }\n}\n\nexport function getCenterOfRectangle (rectangle) {\n  return {\n    x: rectangle.x + rectangle.width / 2,\n    y: rectangle.y + rectangle.height / 2\n  }\n}\n\nexport function getDistance (p1, p2) {\n  return Math.pow(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2), 1 / 2)\n}\n\nexport function getClosestRectangle ({ rectangles, target }) {\n  const keys = Object.keys(rectangles)\n  if (keys.length === 0) {\n    return null\n  }\n  let ret = null\n  let minD = Number.POSITIVE_INFINITY\n  const targetCenter = getCenterOfRectangle(target)\n  keys.forEach(key => {\n    const center = getCenterOfRectangle(rectangles[key])\n    const d = getDistance(center, targetCenter)\n    if (d < minD) {\n      ret = key\n      minD = d\n    }\n  })\n  return ret\n}\n\nexport function getRelationBetweenRectangleAndPoint ({ rectangle, point }) {\n  if (point.x < rectangle.x) {\n    if (point.y < rectangle.y) {\n      return 1\n    } else if (point.y > rectangle.y + rectangle.height) {\n      return 7\n    } else {\n      return 4\n    }\n  } else if (point.x > rectangle.x + rectangle.width) {\n    if (point.y < rectangle.y) {\n      return 3\n    } else if (point.y > rectangle.y + rectangle.height) {\n      return 9\n    } else {\n      return 6\n    }\n  } else {\n    if (point.y < rectangle.y) {\n      return 2\n    } else if (point.y > rectangle.y + rectangle.height) {\n      return 8\n    } else {\n      return 5\n    }\n  }\n}\n\nexport function getDistanceBetweenRectangleAndPoint ({ rectangle, point }) {\n  const relation = getRelationBetweenRectangleAndPoint({ rectangle, point })\n  switch (relation) {\n    case 1:\n      return getDistance(point, { x: rectangle.x, y: rectangle.y })\n    case 2:\n      return rectangle.y - point.y\n    case 3:\n      return getDistance(point, {\n        x: rectangle.x + rectangle.width,\n        y: rectangle.y\n      })\n    case 4:\n      return rectangle.x - point.x\n    case 5:\n      return 0\n    case 6:\n      return point.x - (rectangle.x + rectangle.width)\n    case 7:\n      return getDistance(point, {\n        x: rectangle.x,\n        y: rectangle.y + rectangle.height\n      })\n    case 8:\n      return point.y - (rectangle.y + rectangle.height)\n    case 9:\n      return getDistance(point, {\n        x: rectangle.x + rectangle.width,\n        y: rectangle.y + rectangle.height\n      })\n  }\n}\n\nexport function getClosestRectangleByPoint ({ rectangles, point }) {\n  const keys = Object.keys(rectangles)\n  if (keys.length === 0) {\n    return null\n  }\n  let ret = null\n  let minD = Number.POSITIVE_INFINITY\n  keys.forEach(key => {\n    const d = getDistanceBetweenRectangleAndPoint({\n      rectangle: rectangles[key],\n      point\n    })\n    if (d < minD) {\n      ret = key\n      minD = d\n    }\n  })\n  return ret\n}\n\nexport function isCoveredRectangle ({ outer, inner }) {\n  if (outer.x > inner.x) {\n    return false\n  }\n  if (outer.y > inner.y) {\n    return false\n  }\n  if (outer.x + outer.width < inner.x + inner.width) {\n    return false\n  }\n  if (outer.y + outer.height < inner.y + inner.height) {\n    return false\n  }\n  return true\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/geometry.js","import {\n  NODE_MARGIN_X,\n  NODE_MARGIN_Y,\n  NODE_ADDITIONAL_MARGIN_X_RATE,\n  ROOT_NODE,\n  CONNECTOR_INNTER_MARGIN_X\n} from '@/constants'\n\nimport * as geometry from './geometry'\n\nexport const createNode = obj =>\n  Object.assign(\n    {},\n    {\n      text: '',\n      children: [],\n      backgroundColor: '#B3E5FC',\n      color: '#000000'\n    },\n    obj\n  )\n\nexport const isSameNode = (n1, n2) => {\n  if (n1.text !== n2.text) {\n    return false\n  }\n  if (n1.backgroundColor !== n2.backgroundColor) {\n    return false\n  }\n  if (n1.color !== n2.color) {\n    return false\n  }\n  if (n1.children.join('/') !== n2.children.join('/')) {\n    return false\n  }\n  return true\n}\n\nexport const createDefaultNodes = () => ({\n  [ROOT_NODE]: createNode()\n})\n\nexport const createFile = obj =>\n  Object.assign(\n    {},\n    {\n      name: 'file a',\n      nodeCount: 0,\n      created: 'created',\n      updated: 'updated'\n    },\n    obj\n  )\n\nexport const createUser = obj =>\n  Object.assign(\n    {},\n    {\n      uid: null,\n      displayName: null,\n      email: null,\n      photoURL: null\n    },\n    obj\n  )\n\nexport const calcPositions = ({ nodes, sizes, parentKey }) => {\n  const positions = {}\n  positions[parentKey] = { x: 0, y: 0 }\n  const familySizes = {}\n  calcFamilySizes({ nodes, sizes, familySizes, parentKey })\n  calcFamilyPositions({ nodes, sizes, familySizes, parentKey, positions })\n  return positions\n}\n\nexport function calcFamilyPositions ({\n  nodes,\n  sizes,\n  familySizes,\n  parentKey,\n  positions\n}) {\n  const parentNode = nodes[parentKey]\n  const parentPosition = positions[parentKey]\n  if (parentNode.children.length > 0) {\n    const familySize = familySizes[parentKey]\n    const left =\n      parentPosition.x +\n      sizes[parentKey].width +\n      NODE_MARGIN_X +\n      familySize.height * NODE_ADDITIONAL_MARGIN_X_RATE\n    let top\n    if (familySize.othersHeight <= sizes[parentKey].height) {\n      top =\n        parentPosition.y -\n        familySize.othersHeight / 2 +\n        sizes[parentKey].height / 2\n    } else {\n      top =\n        parentPosition.y -\n        familySize.othersHeight / 2 +\n        sizes[parentKey].height / 2\n    }\n    parentNode.children.forEach(childKey => {\n      const childSize = sizes[childKey]\n      const childFamilySize = familySizes[childKey]\n      positions[childKey] = {\n        x: left,\n        y: top + childFamilySize.height / 2 - childSize.height / 2\n      }\n      top += childFamilySize.height\n      top += NODE_MARGIN_Y\n      calcFamilyPositions({\n        nodes,\n        sizes,\n        familySizes,\n        parentKey: childKey,\n        positions\n      })\n    })\n  }\n}\n\nexport function calcFamilySizes ({ nodes, sizes, familySizes, parentKey }) {\n  const parentNode = nodes[parentKey]\n  if (parentNode.children.length > 0) {\n    parentNode.children.forEach(childKey => {\n      calcFamilySizes({ nodes, sizes, familySizes, parentKey: childKey })\n    })\n    const size = parentNode.children.reduce(\n      (p, c) => {\n        const childWidth = familySizes[c].width\n        const childHeight = Math.max(familySizes[c].height, sizes[c].height)\n        return {\n          width: Math.max(p.width, childWidth),\n          height: p.height + childHeight\n        }\n      },\n      {\n        width: 0,\n        height: 0\n      }\n    )\n    size.height += NODE_MARGIN_Y * (parentNode.children.length - 1)\n    familySizes[parentKey] = {\n      width: sizes[parentKey].width + size.width + NODE_MARGIN_X,\n      height: Math.max(sizes[parentKey].height, size.height),\n      othersHeight: size.height\n    }\n  } else {\n    // this node does not have children\n    familySizes[parentKey] = Object.assign({}, sizes[parentKey], {\n      othersHeight: 0\n    })\n  }\n}\n\nexport function getParentKey ({ nodes, childKey }) {\n  const ret = Object.keys(nodes).find(key => {\n    const node = nodes[key]\n    return node.children.indexOf(childKey) !== -1\n  })\n  return ret || null\n}\n\nexport function getFamilyKeys ({ nodes, parentKey }) {\n  let familyKeys = []\n  const parent = nodes[parentKey]\n  parent.children.forEach(childKey => {\n    familyKeys.push(childKey)\n    const childFamilyKeys = getFamilyKeys({ nodes, parentKey: childKey })\n    familyKeys = familyKeys.concat(childFamilyKeys)\n  })\n  return familyKeys\n}\n\nexport function getUpdatedNodesWhenCreateChildNode ({\n  nodes,\n  parentKey,\n  newKey = `key_${Math.random()}`\n}) {\n  const node = createNode()\n  const key = newKey\n  const parent = nodes[parentKey]\n  const nextChildren = parent.children.concat()\n  nextChildren.push(key)\n  const updatedNodes = {\n    [key]: node,\n    [parentKey]: Object.assign({}, parent, {\n      children: nextChildren\n    })\n  }\n  return updatedNodes\n}\n\nexport function getUpdatedNodesWhenCreateBrotherdNode ({\n  nodes,\n  brotherKey,\n  newKey = `key_${Math.random()}`\n}) {\n  const parentKey = getParentKey({ nodes, childKey: brotherKey })\n  const updatedNodes = getUpdatedNodesWhenCreateChildNode({\n    nodes,\n    parentKey,\n    newKey\n  })\n  // replace newKey after brotherKey\n  const parent = updatedNodes[parentKey]\n  parent.children.pop()\n  const brotherIndex = parent.children.indexOf(brotherKey)\n  parent.children.splice(brotherIndex + 1, 0, newKey)\n  return updatedNodes\n}\n\nexport function getUpdatedNodesWhenDeleteNode ({ nodes, deleteKey }) {\n  const familyKeys = getFamilyKeys({ nodes: nodes, parentKey: deleteKey })\n  const updatedNodes = {\n    [deleteKey]: null\n  }\n  familyKeys.forEach(key => {\n    updatedNodes[key] = null\n  })\n  const parentKey = getParentKey({ nodes: nodes, childKey: deleteKey })\n  if (parentKey) {\n    const parentNode = nodes[parentKey]\n    const nextParentNode = Object.assign({}, parentNode)\n    nextParentNode.children = nextParentNode.children.filter(\n      key => key !== deleteKey\n    )\n    updatedNodes[parentKey] = nextParentNode\n  }\n  return updatedNodes\n}\n\nexport function getUpdatedNodesWhenDeleteNodes ({ nodes, deleteKeys }) {\n  let currentNodes = Object.assign({}, nodes)\n  return Object.keys(deleteKeys).reduce((p, deleteKey) => {\n    if (deleteKey in p) {\n      return p\n    }\n    const updatedNodes = getUpdatedNodesWhenDeleteNode({\n      nodes: currentNodes,\n      deleteKey\n    })\n    // update current nodes after deleting\n    currentNodes = Object.keys(currentNodes).reduce((p, c) => {\n      if (updatedNodes[c] !== null) {\n        p[c] = updatedNodes[c] || currentNodes[c]\n      }\n      return p\n    }, {})\n    return Object.assign({}, p, updatedNodes)\n  }, {})\n}\n\nexport function copyNode (node) {\n  return Object.assign({}, node, {\n    children: node.children.concat()\n  })\n}\n\nexport function getUpdatedNodesWhenChangeParent ({\n  nodes,\n  targetKey,\n  newParentKey,\n  order = 0\n}) {\n  // exit current familly\n  const currentParentKey = getParentKey({ nodes, childKey: targetKey })\n  const updatedCurrentParent = copyNode(nodes[currentParentKey])\n  const currentChildIndex = updatedCurrentParent.children.indexOf(targetKey)\n  updatedCurrentParent.children.splice(currentChildIndex, 1)\n  if (currentParentKey === newParentKey) {\n    if (order <= currentChildIndex) {\n      updatedCurrentParent.children.splice(order, 0, targetKey)\n    } else {\n      updatedCurrentParent.children.splice(order - 1, 0, targetKey)\n    }\n    return Object.assign({}, nodes, {\n      [currentParentKey]: updatedCurrentParent\n    })\n  } else {\n    const updatedParent = copyNode(nodes[newParentKey])\n    updatedParent.children.splice(order, 0, targetKey)\n    return Object.assign({}, nodes, {\n      [currentParentKey]: updatedCurrentParent,\n      [newParentKey]: updatedParent\n    })\n  }\n}\n\nexport function getUpdatedNodesWhenFitClosestParent ({\n  nodes,\n  sizes,\n  positions,\n  targetKey,\n  movingPositions\n}) {\n  const rectangles = {}\n  const familyKeys = getFamilyKeys({ nodes, parentKey: targetKey })\n  const keys = Object.keys(nodes)\n  keys.forEach(key => {\n    // remove root\n    if (!getParentKey({ nodes, childKey: key })) {\n      return\n    }\n    // remove family\n    // if (familyKeys.indexOf(key) > -1) {\n    //   return\n    // }\n    rectangles[key] = {\n      x: positions[key].x,\n      y: positions[key].y,\n      width: sizes[key].width,\n      height: sizes[key].height\n    }\n  })\n  const targetRectangle = {\n    x: movingPositions[targetKey].x,\n    y: movingPositions[targetKey].y,\n    width: sizes[targetKey].width,\n    height: sizes[targetKey].height\n  }\n\n  // delete rectangles[targetKey]\n  const closestKey = geometry.getClosestRectangleByPoint({\n    rectangles,\n    point: {\n      x: targetRectangle.x + targetRectangle.width / 4,\n      y: targetRectangle.y + targetRectangle.height / 2\n    }\n  })\n\n  // change nothing if closest node is the target or its family\n  if (familyKeys.indexOf(closestKey) > -1 || closestKey === targetKey) {\n    return nodes\n  }\n\n  const closestNode = nodes[closestKey]\n  const closestRectangle = rectangles[closestKey]\n  const targetCenter = geometry.getCenterOfRectangle(targetRectangle)\n\n  const closestHasNoChildOrHasTarget =\n    closestNode.children.length === 0 ||\n    (closestNode.children.length === 1 &&\n      closestNode.children.indexOf(targetCenter) === -1)\n  if (\n    closestHasNoChildOrHasTarget &&\n    closestRectangle.x + closestRectangle.width / 2 < targetRectangle.x\n  ) {\n    // add child to closest node\n    return getUpdatedNodesWhenChangeParent({\n      nodes,\n      targetKey,\n      newParentKey: closestKey,\n      order: 0\n    })\n  } else {\n    const isElder =\n      targetCenter.y < closestRectangle.y + closestRectangle.height / 2\n    const closestParentKey = getParentKey({ nodes, childKey: closestKey })\n    const childIndex = nodes[closestParentKey].children.indexOf(closestKey)\n    return getUpdatedNodesWhenChangeParent({\n      nodes,\n      targetKey,\n      newParentKey: closestParentKey,\n      order: childIndex + (isElder ? 0 : 1)\n    })\n  }\n}\n\nexport function getNodeFrom ({ nodes, to, targetKey }) {\n  let ret = null\n  const baseKey = targetKey\n  const baseNode = nodes[baseKey]\n  if (baseNode) {\n    if (to === 'right') {\n      if (baseNode.children.length > 0) {\n        ret = baseNode.children[0]\n      }\n    } else {\n      const parentKey = getParentKey({ nodes, childKey: baseKey })\n      if (parentKey) {\n        const parentNode = nodes[parentKey]\n        if (to === 'left') {\n          ret = parentKey\n        }\n        if (to === 'down') {\n          const index =\n            (parentNode.children.indexOf(baseKey) + 1) %\n            parentNode.children.length\n          ret = parentNode.children[index]\n        }\n        if (to === 'up') {\n          let index = parentNode.children.indexOf(baseKey) - 1\n          index = index < 0 ? parentNode.children.length - 1 : index\n          ret = parentNode.children[index]\n        }\n      }\n    }\n  }\n  return ret\n}\n\nexport function getUpdatedNodesWhenChangeChildOrder ({ nodes, childKey, dif }) {\n  const parentKey = getParentKey({ nodes, childKey })\n  if (!parentKey) {\n    return null\n  }\n  const parentNode = nodes[parentKey]\n  const currentIndex = parentNode.children.indexOf(childKey)\n  let nextIndex = currentIndex + dif\n  nextIndex = nextIndex < 0 ? parentNode.children.length - 1 : nextIndex\n  nextIndex %= parentNode.children.length\n  const updatedParent = copyNode(parentNode)\n  updatedParent.children.splice(currentIndex, 1)\n  updatedParent.children.splice(nextIndex, 0, childKey)\n  return Object.assign({}, nodes, {\n    [parentKey]: updatedParent\n  })\n}\n\nexport function getConnectors ({ nodes, positions, sizes }) {\n  const ret = {}\n  Object.keys(nodes).forEach(parentKey => {\n    const parent = nodes[parentKey]\n    const parentPosition = positions[parentKey]\n    const parentSize = sizes[parentKey]\n    parent.children.forEach(childKey => {\n      const childPosition = positions[childKey]\n      const childSize = sizes[childKey]\n      if (parentSize && childSize) {\n        const isChildLeftFromParent =\n          childPosition.x + childSize.width / 2 <\n          parentPosition.x + parentSize.width / 2\n        ret[`${parentKey}-${childKey}`] = {\n          sx: parentPosition.x + parentSize.width - CONNECTOR_INNTER_MARGIN_X,\n          sy: parentPosition.y + parentSize.height / 2,\n          ex: isChildLeftFromParent\n            ? childPosition.x + childSize.width\n            : childPosition.x,\n          ey: childPosition.y + childSize.height / 2\n        }\n      }\n    })\n  })\n  return ret\n}\n\nexport function getBetterConnector ({\n  nodes,\n  sizes,\n  positions,\n  targetKey,\n  newParentKey,\n  newChildOrder\n}) {\n  const parentNode = nodes[newParentKey]\n  if (parentNode.children[newChildOrder] === targetKey) {\n    return\n  }\n  const parentPosition = positions[newParentKey]\n  const parentSize = sizes[newParentKey]\n  const start = {\n    sx: parentPosition.x + parentSize.width - CONNECTOR_INNTER_MARGIN_X,\n    sy: parentPosition.y + parentSize.height / 2\n  }\n  if (parentNode.children.length === 0) {\n    return Object.assign({}, start, {\n      ex: start.sx + CONNECTOR_INNTER_MARGIN_X + NODE_MARGIN_X,\n      ey: start.sy\n    })\n  }\n  let order = newChildOrder\n  const movingTargetIndex = parentNode.children.indexOf(targetKey)\n  if (movingTargetIndex !== -1) {\n    if (movingTargetIndex < order) {\n      order++\n    }\n  }\n  if (parentNode.children.length > order) {\n    const youngerBrotherKey = parentNode.children[order]\n    const youngerBrotherPosition = positions[youngerBrotherKey]\n    if (order > 0) {\n      const elderBrotherKey = parentNode.children[order - 1]\n      const elderBrotherPosition = positions[elderBrotherKey]\n      const elderBrotherSize = sizes[elderBrotherKey]\n      const elderBrotherBottom =\n        elderBrotherPosition.y + elderBrotherSize.height\n      return Object.assign({}, start, {\n        ex: youngerBrotherPosition.x,\n        ey: (youngerBrotherPosition.y + elderBrotherBottom) / 2\n      })\n    } else {\n      return Object.assign({}, start, {\n        ex: youngerBrotherPosition.x,\n        ey: youngerBrotherPosition.y - NODE_MARGIN_Y / 2\n      })\n    }\n  } else {\n    const elderBrotherKey = parentNode.children[order - 1]\n    const elderBrotherPosition = positions[elderBrotherKey]\n    const elderBrotherSize = sizes[elderBrotherKey]\n    return Object.assign({}, start, {\n      ex: elderBrotherPosition.x,\n      ey: elderBrotherPosition.y + elderBrotherSize.height + NODE_MARGIN_Y / 2\n    })\n  }\n}\n\nexport function getNodeDiff ({ nodes, updatedNodes }) {\n  return Object.keys(updatedNodes).reduce((p, c) => {\n    const current = nodes[c]\n    const updated = updatedNodes[c]\n    if (current) {\n      if (updated) {\n        if (!isSameNode(current, updated)) {\n          p[c] = updated\n        }\n      } else {\n        // updated is deleted\n        p[c] = updated\n      }\n    } else {\n      // current does not exist\n      p[c] = updated\n    }\n    return p\n  }, {})\n}\n\nexport function isConflict ({ nodes }) {\n  let isConflict = false\n  Object.keys(nodes).some(key => {\n    if (key !== ROOT_NODE) {\n      if (!getParentKey({ nodes, childKey: key })) {\n        isConflict = true\n        return isConflict\n      }\n    }\n    const node = nodes[key]\n    node.children.some(childKey => {\n      if (!nodes[childKey]) {\n        isConflict = true\n        return true\n      }\n    })\n    return isConflict\n  })\n  return isConflict\n}\n\nexport function rescueConflict ({ nodes }) {\n  return Object.keys(nodes).reduce((p, key) => {\n    if (key !== ROOT_NODE) {\n      if (!getParentKey({ nodes, childKey: key })) {\n        return p\n      }\n    }\n    const children = nodes[key].children.filter(childKey => {\n      if (nodes[childKey]) {\n        return true\n      }\n    })\n    p[key] = Object.assign({}, nodes[key], {\n      children\n    })\n    return p\n  }, {})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/model.js","import * as firebase from 'firebase'\nvar config = {\n  apiKey: 'AIzaSyB_t7IC5k4U8bedjSXvpbtsdF6KH5RfpOk',\n  authDomain: 'mind-xx-acpr.firebaseapp.com',\n  databaseURL: 'https://mind-xx-acpr.firebaseio.com',\n  projectId: 'mind-xx-acpr',\n  storageBucket: 'mind-xx-acpr.appspot.com',\n  messagingSenderId: '940754615168'\n}\nfirebase.initializeApp(config)\n\nexport default firebase\n\n\n\n// WEBPACK FOOTER //\n// ./src/firebase/index.js","<template>\n  <v-layout row justify-center>\n    <v-dialog v-model=\"value\" persistent max-width=\"240\">\n      <v-card>\n        <v-card-title class=\"headline\">Need Auth</v-card-title>\n        <v-card-text>\n          <v-btn color=\"white\" @click=\"authGoogle\">\n            <img class=\"image\" src=\"../..//assets/images/googlelogo_color_90x40dp.png\" />\n          </v-btn>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n</template>\n\n<script>\nimport firebase from '@/firebase'\n\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      required: true\n    }\n  },\n  methods: {\n    authGoogle () {\n      const provider = new firebase.auth.GoogleAuthProvider()\n      firebase.auth().signInWithRedirect(provider)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.image {\n  height: 36px - 2px;\n  width: auto;\n  margin-top: 2px;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/organisms/AuthDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"240\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Need Auth\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-btn',{attrs:{\"color\":\"white\"},on:{\"click\":_vm.authGoogle}},[_c('img',{staticClass:\"image\",attrs:{\"src\":require(\"../..//assets/images/googlelogo_color_90x40dp.png\")}})])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6fd0c3a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/organisms/AuthDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6fd0c3a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AuthDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AuthDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AuthDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fd0c3a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AuthDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6fd0c3a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/organisms/AuthDialog.vue\n// module id = null\n// module chunks = ","export const getterTypes = {\n  USER: 'USER',\n  AUTHORITY_LOADING: 'AUTHORITY_LOADING'\n}\n\nexport const actionTypes = {\n  LOAD_USER: 'LOAD_USER',\n  SIGN_OUT: 'SIGN_OUT',\n  SET_AUTHORITY_LOADING: 'SET_AUTHORITY_LOADING'\n}\n\nexport const mutationTypes = {\n  SET_USER: 'SET_USER',\n  SET_AUTHORITY_LOADING: 'SET_AUTHORITY_LOADING'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/user/types.js","<template>\n  <v-app id=\"app\">\n    <router-view v-if=\"!authorityLoading\"/>\n    <AuthDialog v-model=\"needAuth\"/>\n  </v-app>\n</template>\n\n<script>\nimport AuthDialog from './components/organisms/AuthDialog'\n\nimport { mapGetters, mapActions } from 'vuex'\nimport { getterTypes, actionTypes } from '@/store/user/types'\n\nexport default {\n  name: 'app',\n  components: {\n    AuthDialog\n  },\n  computed: {\n    ...mapGetters('user', {\n      user: getterTypes.USER,\n      authorityLoading: getterTypes.AUTHORITY_LOADING\n    }),\n    needAuth () {\n      return !this.user\n    }\n  },\n  mounted () {\n    this.loadUser()\n  },\n  methods: {\n    ...mapActions('user', {\n      loadUser: actionTypes.LOAD_USER\n    })\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\"}},[(!_vm.authorityLoading)?_c('router-view'):_vm._e(),_vm._v(\" \"),_c('AuthDialog',{model:{value:(_vm.needAuth),callback:function ($$v) {_vm.needAuth=$$v},expression:\"needAuth\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c24252b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c24252b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c24252b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","export const getterTypes = {\n  LEFT_DRAWER: 'LEFT_DRAWER'\n}\n\nexport const actionTypes = {\n  SET_LEFT_DRAWER: 'SET_LEFT_DRAWER'\n}\n\nexport const mutationTypes = {\n  SET_LEFT_DRAWER: 'SET_LEFT_DRAWER'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/layouts/types.js","<template>\n<div>\n  <v-navigation-drawer\n    fixed\n    clipped\n    app\n    :value=\"leftDrawer\"\n    @input=\"val => setLeftDrawer({ leftDrawer: val })\"\n  >\n    <!-- <v-list dense>\n    </v-list> -->\n    <router-view name=\"leftDrawer\"/>\n  </v-navigation-drawer>\n  <v-toolbar\n    color=\"blue darken-3\"\n    dark\n    app\n    clipped-left\n    fixed\n    dense\n  >\n    <v-toolbar-title :style=\"$vuetify.breakpoint.smAndUp ? 'width: 300px; min-width: 250px' : 'min-width: 72px'\" class=\"ml-0 pl-3\">\n      <v-toolbar-side-icon @click.stop=\"setLeftDrawer({ leftDrawer: !leftDrawer })\"></v-toolbar-side-icon>\n      <!-- <span class=\"hidden-xs-only\">MindXXACPR</span> -->\n      <v-btn flat @click=\"$router.push({name: 'WorkSpace'})\">MindXXACPR</v-btn>\n    </v-toolbar-title>\n    <div class=\"d-flex align-center\" style=\"margin-left: auto\">\n      <router-view name=\"headerIconList\"/>\n      <!-- <v-btn icon>\n        <v-icon>apps</v-icon>\n      </v-btn>\n      <v-btn icon>\n        <v-icon>notifications</v-icon>\n      </v-btn> -->\n      <v-menu bottom left offset-y v-if=\"user\">\n        <v-btn icon slot=\"activator\" dark>\n          <v-avatar size=\"32px\">\n            <img :src=\"user.photoURL\"/>\n          </v-avatar>\n        </v-btn>\n        <v-list>\n          <v-list-tile>\n            <v-list-tile-title>{{user.displayName}}</v-list-tile-title>\n          </v-list-tile>\n          <v-divider/>\n          <v-list-tile @click=\"signOut\">\n            <v-list-tile-title>Sign out</v-list-tile-title>\n          </v-list-tile>\n        </v-list>\n      </v-menu>\n    </div>\n  </v-toolbar>\n  <v-content ref=\"content\">\n    <v-container fill-height>\n      <v-layout class=\"main-layout\">\n        <router-view name=\"content\"/>\n      </v-layout>\n    </v-container>\n  </v-content>\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { getterTypes, actionTypes } from '@/store/layouts/types'\nimport { getterTypes as userGetterTypes, actionTypes as userActionTypes } from '@/store/user/types'\n\nexport default {\n  props: {\n  },\n  computed: {\n    ...mapGetters('layouts', {\n      leftDrawer: getterTypes.LEFT_DRAWER\n    }),\n    ...mapGetters('user', {\n      user: userGetterTypes.USER\n    })\n  },\n  methods: {\n    ...mapActions('layouts', {\n      setLeftDrawer: actionTypes.SET_LEFT_DRAWER\n    }),\n    ...mapActions('user', {\n      _signOut: userActionTypes.SIGN_OUT\n    }),\n    signOut () {\n      this._signOut().then().catch().then(() => {\n        location.reload()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container.fill-height {\n  padding: 0;\n}\n.main-layout {\n  width: 100%;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/AppCommonLayout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"clipped\":\"\",\"app\":\"\",\"value\":_vm.leftDrawer},on:{\"input\":function (val) { return _vm.setLeftDrawer({ leftDrawer: val }); }}},[_c('router-view',{attrs:{\"name\":\"leftDrawer\"}})],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"color\":\"blue darken-3\",\"dark\":\"\",\"app\":\"\",\"clipped-left\":\"\",\"fixed\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',{staticClass:\"ml-0 pl-3\",style:(_vm.$vuetify.breakpoint.smAndUp ? 'width: 300px; min-width: 250px' : 'min-width: 72px')},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.setLeftDrawer({ leftDrawer: !_vm.leftDrawer })}}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.$router.push({name: 'WorkSpace'})}}},[_vm._v(\"MindXXACPR\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"d-flex align-center\",staticStyle:{\"margin-left\":\"auto\"}},[_c('router-view',{attrs:{\"name\":\"headerIconList\"}}),_vm._v(\" \"),(_vm.user)?_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"icon\":\"\",\"dark\":\"\"},slot:\"activator\"},[_c('v-avatar',{attrs:{\"size\":\"32px\"}},[_c('img',{attrs:{\"src\":_vm.user.photoURL}})])],1),_vm._v(\" \"),_c('v-list',[_c('v-list-tile',[_c('v-list-tile-title',[_vm._v(_vm._s(_vm.user.displayName))])],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',{on:{\"click\":_vm.signOut}},[_c('v-list-tile-title',[_vm._v(\"Sign out\")])],1)],1)],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-content',{ref:\"content\"},[_c('v-container',{attrs:{\"fill-height\":\"\"}},[_c('v-layout',{staticClass:\"main-layout\"},[_c('router-view',{attrs:{\"name\":\"content\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-351d414c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/AppCommonLayout.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-351d414c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AppCommonLayout.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppCommonLayout.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppCommonLayout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-351d414c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AppCommonLayout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-351d414c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/AppCommonLayout.vue\n// module id = null\n// module chunks = ","export const INTERVAL_CLICK = 300\nexport const INTERVAL_DOUBLE_CLICK = 300\n\nexport const NODE_MARGIN_X = 20\nexport const NODE_MARGIN_Y = 20\nexport const NODE_ADDITIONAL_MARGIN_X_RATE = 0.1\nexport const CONNECTOR_INNTER_MARGIN_X = 5\n\nexport const ROOT_NODE = 'root'\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/index.js","export const getPoint = e => {\n  let x, y\n  let rect = e.currentTarget.getBoundingClientRect()\n  let dx = rect.left + window.pageXOffset\n  let dy = rect.top + window.pageYOffset\n\n  if (isTouch(e)) {\n    let touch = e.touches[0]\n    x = touch.pageX - dx\n    y = touch.pageY - dy\n  } else {\n    x = e.pageX - dx\n    y = e.pageY - dy\n  }\n  return {\n    x: x,\n    y: y\n  }\n}\n\nexport const isTouch = e => {\n  return e.touches\n}\n\nexport const isMulitTouch = e => {\n  return isTouch(e) && e.touches.length > 1\n}\n\nexport const isTouchExist = e => {\n  return isTouch(e) && e.touches.length > 0\n}\n\nexport const getPoints = e => {\n  let ret = []\n  let rect = e.currentTarget.getBoundingClientRect()\n  let dx = rect.left + window.pageXOffset\n  let dy = rect.top + window.pageYOffset\n\n  for (let i = 0; i < e.touches.length; i++) {\n    let touch = e.touches[i]\n    ret.push({\n      x: touch.pageX - dx,\n      y: touch.pageY - dy\n    })\n  }\n\n  return ret\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/canvas.js","<template>\n<rect\n  :x=\"x\"\n  :y=\"y\"\n  :rx=\"rx\"\n  :ry=\"ry\"\n  :width=\"width\"\n  :height=\"height\"\n  :stroke=\"stroke\"\n  :stroke-width=\"strokeWidth\"\n  :fill=\"fill\"\n  :stroke-dasharray=\"strokeDasharray\"\n  :stroke-dashoffset=\"strokeDashoffset\"\n/>\n</template>\n\n<script>\nexport default {\n  props: {\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    },\n    rx: {\n      type: Number,\n      default: 0\n    },\n    ry: {\n      type: Number,\n      default: 0\n    },\n    width: {\n      type: Number,\n      default: 50\n    },\n    height: {\n      type: Number,\n      default: 50\n    },\n    strokeWidth: {\n      type: Number,\n      default: 1\n    },\n    stroke: {\n      type: String,\n      default: 'black'\n    },\n    fill: {\n      type: String,\n      default: 'none'\n    },\n    strokeDasharray: {\n      type: Number,\n      default: 0\n    },\n    strokeDashoffset: {\n      type: Number,\n      default: 0\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/atoms/svg/SvgRectangle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('rect',{attrs:{\"x\":_vm.x,\"y\":_vm.y,\"rx\":_vm.rx,\"ry\":_vm.ry,\"width\":_vm.width,\"height\":_vm.height,\"stroke\":_vm.stroke,\"stroke-width\":_vm.strokeWidth,\"fill\":_vm.fill,\"stroke-dasharray\":_vm.strokeDasharray,\"stroke-dashoffset\":_vm.strokeDashoffset}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f9a57dc2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/atoms/svg/SvgRectangle.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgRectangle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgRectangle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f9a57dc2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SvgRectangle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/atoms/svg/SvgRectangle.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"svg-canvas-wrapper\" :style=\"{width: `${width}px`, height: `${height}px`}\">\n  <svg\n    font-family=\"sans-serif\"\n    :viewBox=\"`${x} ${y} ${canvasWidth} ${canvasHeight}`\"\n    @mousemove.prevent=\"e => $isMobile.any ? '' : canvasCursorMove(e)\"\n    @mousedown.self=\"e => $isMobile.any ? '' : canvasCursorDownSelf(e)\"\n    @mouseup.self=\"e => $isMobile.any ? '' : canvasCursorUpSelf(e)\"\n    @mouseup=\"e => $isMobile.any ? '' : canvasCursorUp(e)\"\n    @mousewheel.prevent=\"e => $isMobile.any ? '' : canvasWheel(e)\"\n    @touchmove.prevent=\"e => $isMobile.any ? canvasCursorMove(e) : ''\"\n    @touchstart.self=\"e => $isMobile.any ? canvasCursorDownSelf(e) : ''\"\n    @touchend.self=\"e => $isMobile.any ? canvasCursorUpSelf(e) : ''\"\n    @touchend=\"e => $isMobile.any ? canvasCursorUp(e) : ''\"\n  >\n    <slot />\n    <SvgRectangle\n      v-if=\"rectangleSelecting\"\n      :x=\"selectRectangle.x\"\n      :y=\"selectRectangle.y\"\n      :rx=\"3\"\n      :ry=\"3\"\n      :width=\"selectRectangle.width\"\n      :height=\"selectRectangle.height\"\n      fill=\"none\"\n      stroke=\"blue\"\n      :strokeDasharray=\"5\"\n      :strokeDashoffset=\"5\"\n    />\n  </svg>\n</div>\n</template>\n\n<script>\nimport * as canvasUtils from '@/utils/canvas'\nimport {INTERVAL_CLICK, INTERVAL_DOUBLE_CLICK} from '@/constants'\nimport SvgRectangle from '@/components/atoms/svg/SvgRectangle'\n\nexport default {\n  components: {\n    SvgRectangle\n  },\n  data: () => ({\n    beforeMoveP: null,\n    downStart: 0,\n    clickLast: 0,\n    rectangleSelecting: false,\n    downP: null\n  }),\n  props: {\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    },\n    width: {\n      type: Number,\n      default: 400,\n      validator: function (value) {\n        return value > 0\n      }\n    },\n    height: {\n      type: Number,\n      default: 400,\n      validator: function (value) {\n        return value > 0\n      }\n    },\n    scale: {\n      type: Number,\n      default: 1,\n      validator: function (value) {\n        return value > 0\n      }\n    }\n  },\n  computed: {\n    canvasWidth () {\n      return this.width / this.scale\n    },\n    canvasHeight () {\n      return this.height / this.scale\n    },\n    selectRectangle () {\n      if (!this.rectangleSelecting || !this.downP || !this.beforeMoveP) {\n        return null\n      }\n      const p1 = this.dom2svg(this.downP)\n      const p2 = this.dom2svg(this.beforeMoveP)\n      return {\n        x: Math.min(p1.x, p2.x),\n        y: Math.min(p1.y, p2.y),\n        width: Math.abs(p1.x - p2.x),\n        height: Math.abs(p1.y - p2.y)\n      }\n    }\n  },\n  methods: {\n    dom2svg (p, scale = this.scale) {\n      return {\n        x: p.x / scale + this.x,\n        y: p.y / scale + this.y\n      }\n    },\n    dom2svgScale (p) {\n      return {\n        x: p.x / this.scale,\n        y: p.y / this.scale\n      }\n    },\n    svg2dom (p, scale = this.scale) {\n      return {\n        x: (p.x - this.x) * scale,\n        y: (p.y - this.y) * scale\n      }\n    },\n    canvasCursorMove (e) {\n      if (this.beforeMoveP) {\n        const p = canvasUtils.getPoint(e)\n        const dif = this.dom2svgScale({\n          x: this.beforeMoveP.x - p.x,\n          y: this.beforeMoveP.y - p.y\n        })\n        if (!this.rectangleSelecting) {\n          this.$emit('move', {\n            x: this.x + dif.x,\n            y: this.y + dif.y\n          })\n        }\n        this.beforeMoveP = Object.assign({}, p)\n      }\n    },\n    canvasWheel (e) {\n      const dx = e.wheelDeltaX\n      const dy = e.wheelDeltaY\n      this.$emit('move', {\n        x: this.x - dx / 3 / this.scale,\n        y: this.y - dy / 3 / this.scale\n      })\n    },\n    canvasCursorDownSelf (e) {\n      this.downStart = Date.now()\n      const p = canvasUtils.getPoint(e)\n      this.beforeMoveP = Object.assign({}, p)\n      this.rectangleSelecting = e.shiftKey\n      this.downP = p\n    },\n    canvasCursorUpSelf (e) {\n      const now = Date.now()\n      if (now - this.downStart < INTERVAL_CLICK) {\n        if (now - this.clickLast < INTERVAL_DOUBLE_CLICK) {\n          // double click\n          this.$emit('doubleClick', e)\n        } else {\n          // single click\n          this.$emit('click', e)\n        }\n        this.clickLast = now\n      }\n    },\n    canvasCursorUp (e) {\n      if (this.selectRectangle) {\n        this.$emit('selectRectangle', this.selectRectangle)\n      }\n      this.beforeMoveP = null\n      this.rectangleSelecting = false\n    },\n    getPostionAfterChangeScale (nextScale) {\n      // zoom based at cursor position\n      const domP = {\n        x: this.width / 2,\n        y: this.height / 2\n      }\n      const svgP = this.dom2svg(domP)\n      const nextSvgP = this.dom2svg(domP, nextScale)\n      return {\n        x: this.x + (svgP.x - nextSvgP.x),\n        y: this.y + (svgP.y - nextSvgP.y)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/atoms/svg/SvgCanvas.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"svg-canvas-wrapper\",style:({width: (_vm.width + \"px\"), height: (_vm.height + \"px\")})},[_c('svg',{attrs:{\"font-family\":\"sans-serif\",\"viewBox\":(_vm.x + \" \" + _vm.y + \" \" + _vm.canvasWidth + \" \" + _vm.canvasHeight)},on:{\"mousemove\":function($event){$event.preventDefault();(function (e) { return _vm.$isMobile.any ? '' : _vm.canvasCursorMove(e); })($event)},\"mousedown\":function($event){if($event.target !== $event.currentTarget){ return null; }(function (e) { return _vm.$isMobile.any ? '' : _vm.canvasCursorDownSelf(e); })($event)},\"mouseup\":[function($event){if($event.target !== $event.currentTarget){ return null; }(function (e) { return _vm.$isMobile.any ? '' : _vm.canvasCursorUpSelf(e); })($event)},function (e) { return _vm.$isMobile.any ? '' : _vm.canvasCursorUp(e); }],\"mousewheel\":function($event){$event.preventDefault();(function (e) { return _vm.$isMobile.any ? '' : _vm.canvasWheel(e); })($event)},\"touchmove\":function($event){$event.preventDefault();(function (e) { return _vm.$isMobile.any ? _vm.canvasCursorMove(e) : ''; })($event)},\"touchstart\":function($event){if($event.target !== $event.currentTarget){ return null; }(function (e) { return _vm.$isMobile.any ? _vm.canvasCursorDownSelf(e) : ''; })($event)},\"touchend\":[function($event){if($event.target !== $event.currentTarget){ return null; }(function (e) { return _vm.$isMobile.any ? _vm.canvasCursorUpSelf(e) : ''; })($event)},function (e) { return _vm.$isMobile.any ? _vm.canvasCursorUp(e) : ''; }]}},[_vm._t(\"default\"),_vm._v(\" \"),(_vm.rectangleSelecting)?_c('SvgRectangle',{attrs:{\"x\":_vm.selectRectangle.x,\"y\":_vm.selectRectangle.y,\"rx\":3,\"ry\":3,\"width\":_vm.selectRectangle.width,\"height\":_vm.selectRectangle.height,\"fill\":\"none\",\"stroke\":\"blue\",\"strokeDasharray\":5,\"strokeDashoffset\":5}}):_vm._e()],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-65b2ca5c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/atoms/svg/SvgCanvas.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-65b2ca5c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SvgCanvas.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgCanvas.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgCanvas.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65b2ca5c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SvgCanvas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-65b2ca5c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/atoms/svg/SvgCanvas.vue\n// module id = null\n// module chunks = ","<template>\n  <text\n    ref=\"text\"\n    :x=\"x\"\n    :y=\"y\"\n    :font-size=\"fontSize\"\n    :font-weight=\"fontWeight\"\n    :fill=\"fill\"\n  >\n    {{text}}\n  </text>\n</template>\n\n<script>\nexport default {\n  props: {\n    text: {\n      type: String,\n      required: true\n    },\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    },\n    fontSize: {\n      type: Number,\n      default: 10\n    },\n    fill: {\n      type: String,\n      default: 'black'\n    },\n    fontWeight: {\n      type: Number,\n      default: 500\n    }\n  },\n  methods: {\n    getBBox () {\n      return this.$refs.text.getBBox()\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/atoms/svg/SvgText.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('text',{ref:\"text\",attrs:{\"x\":_vm.x,\"y\":_vm.y,\"font-size\":_vm.fontSize,\"font-weight\":_vm.fontWeight,\"fill\":_vm.fill}},[_vm._v(\"\\n  \"+_vm._s(_vm.text)+\"\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-220deb6c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/atoms/svg/SvgText.vue\n// module id = null\n// module chunks = ","<template>\n<g>\n  <SvgRectangle\n    :x=\"x\"\n    :y=\"y\"\n    :rx=\"3\"\n    :ry=\"3\"\n    :width=\"textWidth\"\n    :height=\"height\"\n    :stroke-width=\"strokeWidth\"\n    :stroke=\"stroke\"\n    :fill=\"fill\"\n  />\n  <SvgText\n    v-for=\"(l, i) in lines\"\n    :ref=\"`svgLine`\"\n    :key=\"i\"\n    :x=\"textX\"\n    :y=\"textY + textHeight * (i + 1)\"\n    :font-size=\"fontSize\"\n    :text=\"l\"\n    :fill=\"textFill\"\n  />\n  <SvgText\n    v-if=\"!text\"\n    text=\"\"\n    :x=\"textX\"\n    :y=\"textY + textHeight\"\n    :font-size=\"fontSize\"\n    :fill=\"textFill\"\n  />\n</g>\n</template>\n\n<script>\nimport SvgText from '@/components/atoms/svg/SvgText'\nimport SvgRectangle from '@/components/atoms/svg/SvgRectangle'\n\nexport default {\n  components: {\n    SvgText,\n    SvgRectangle\n  },\n  data: () => ({\n    textWidth: 50\n  }),\n  props: {\n    text: {\n      type: String,\n      required: true\n    },\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    },\n    fontSize: {\n      type: Number,\n      default: 10\n    },\n    strokeWidth: {\n      type: Number,\n      default: 1\n    },\n    stroke: {\n      type: String,\n      default: 'black'\n    },\n    fill: {\n      type: String,\n      default: 'none'\n    },\n    textFill: {\n      type: String,\n      default: 'black'\n    }\n  },\n  computed: {\n    lines () {\n      return this.text.split(/\\n|\\r\\n/)\n    },\n    width () {\n      return this.textWidth\n    },\n    height () {\n      return this.textHeight * this.lines.length + 8\n    },\n    textHeight () {\n      return this.fontSize + 5\n    },\n    textX () {\n      return this.x + this.textPaddingX\n    },\n    textY () {\n      return this.y\n    },\n    textPaddingX () {\n      return 5\n    }\n  },\n  watch: {\n    text () {\n      this.$nextTick().then(() => {\n        this.adjustTextWidth()\n      })\n    }\n  },\n  mounted () {\n    this.adjustTextWidth()\n  },\n  methods: {\n    adjustTextWidth () {\n      const bbox = this.getBBox()\n      this.textWidth = bbox.width\n      this.$emit('calcSize', bbox)\n    },\n    getBBox () {\n      const width = this.lines.reduce((p, c, i) => {\n        const width = this.$refs['svgLine'][i].getBBox().width\n        return Math.max(p, width)\n      }, 46)\n      return {\n        width: width + this.textPaddingX * 2,\n        height: this.height\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/molecules/svg/SvgTextRectangle.vue","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgText.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgText.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-220deb6c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SvgText.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/atoms/svg/SvgText.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('SvgRectangle',{attrs:{\"x\":_vm.x,\"y\":_vm.y,\"rx\":3,\"ry\":3,\"width\":_vm.textWidth,\"height\":_vm.height,\"stroke-width\":_vm.strokeWidth,\"stroke\":_vm.stroke,\"fill\":_vm.fill}}),_vm._v(\" \"),_vm._l((_vm.lines),function(l,i){return _c('SvgText',{key:i,ref:\"svgLine\",refInFor:true,attrs:{\"x\":_vm.textX,\"y\":_vm.textY + _vm.textHeight * (i + 1),\"font-size\":_vm.fontSize,\"text\":l,\"fill\":_vm.textFill}})}),_vm._v(\" \"),(!_vm.text)?_c('SvgText',{attrs:{\"text\":\"\",\"x\":_vm.textX,\"y\":_vm.textY + _vm.textHeight,\"font-size\":_vm.fontSize,\"fill\":_vm.textFill}}):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bcacb83a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/molecules/svg/SvgTextRectangle.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgTextRectangle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgTextRectangle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bcacb83a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SvgTextRectangle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/molecules/svg/SvgTextRectangle.vue\n// module id = null\n// module chunks = ","<template>\n  <path stroke=\"black\" stroke-width=\"1\" fill=\"none\"\n    :d=\"`M ${sx} ${sy} Q ${qx} ${qy} ${ex} ${ey}`\"\n  />\n</template>\n\n<script>\nexport default {\n  props: {\n    sx: {\n      type: Number,\n      required: true\n    },\n    sy: {\n      type: Number,\n      required: true\n    },\n    ex: {\n      type: Number,\n      required: true\n    },\n    ey: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    qx () {\n      return this.sx * 7 / 10 + this.ex * 3 / 10\n    },\n    qy () {\n      return this.sy * 1 / 10 + this.ey * 9 / 10\n    },\n    cx () {\n      return (this.sx + this.ex) / 2\n    },\n    cy () {\n      return (this.sy + this.ey) / 2\n    }\n  },\n  methods: {\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/molecules/svg/SvgConnector.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('path',{attrs:{\"stroke\":\"black\",\"stroke-width\":\"1\",\"fill\":\"none\",\"d\":(\"M \" + _vm.sx + \" \" + _vm.sy + \" Q \" + _vm.qx + \" \" + _vm.qy + \" \" + _vm.ex + \" \" + _vm.ey)}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f464847\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/molecules/svg/SvgConnector.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgConnector.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SvgConnector.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f464847\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SvgConnector.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/molecules/svg/SvgConnector.vue\n// module id = null\n// module chunks = ","<template>\n<div\n  class=\"float-text-input-wrapper\"\n  :style=\"{top: `${y}px`, left: `${x}px`}\"\n>\n  <v-text-field\n    class=\"text-field\"\n    multi-line\n    hide-details\n    autofocus\n    :rows=\"rows\"\n    v-model=\"_value\"\n    @keyup.esc=\"done\"\n    @blur=\"done\"\n  />\n</div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: String,\n      required: true\n    },\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    },\n    targetKey: {\n      type: String,\n      required: true\n    }\n  },\n  computed: {\n    _value: {\n      get () {\n        return this.value\n      },\n      set (val) {\n        this.$emit('input', val)\n      }\n    },\n    lines () {\n      return this._value.split(/\\n|\\r\\n/)\n    },\n    rows () {\n      return Math.min(this.lines.length, 3)\n    }\n  },\n  methods: {\n    done () {\n      this.$emit('done', {\n        value: this.value,\n        targetKey: this.targetKey\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.float-text-input-wrapper {\n  position: absolute;\n  border: 1px solid black;\n  border-radius: 4px;\n  background-color: #fff;\n\n  .text-field {\n    padding: 0;\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/molecules/FloatTextInput.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"float-text-input-wrapper\",style:({top: (_vm.y + \"px\"), left: (_vm.x + \"px\")})},[_c('v-text-field',{staticClass:\"text-field\",attrs:{\"multi-line\":\"\",\"hide-details\":\"\",\"autofocus\":\"\",\"rows\":_vm.rows},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key)){ return null; }_vm.done($event)},\"blur\":_vm.done},model:{value:(_vm._value),callback:function ($$v) {_vm._value=$$v},expression:\"_value\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c3d034e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/molecules/FloatTextInput.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c3d034e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FloatTextInput.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FloatTextInput.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FloatTextInput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c3d034e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FloatTextInput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1c3d034e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/molecules/FloatTextInput.vue\n// module id = null\n// module chunks = ","<template>\n<div\n  class=\"float-edit-menu-wrapper\"\n  :style=\"{top: `${y}px`, left: `${x}px`}\"\n>\n  <v-btn icon small outline color=\"indigo\" class=\"list-item\"\n    v-if=\"!root\"\n    @click=\"$emit('editText')\"\n  >\n    <v-icon>edit</v-icon>\n  </v-btn\n  ><v-btn icon small outline color=\"indigo\" class=\"list-item\"\n    v-if=\"!root\"\n    @click=\"$emit('addBrother')\"\n  >\n    <v-icon>add</v-icon>\n  </v-btn\n  ><v-btn icon small outline color=\"indigo\" class=\"list-item\"\n    @click=\"$emit('addChild')\"\n  >\n    <v-icon>subdirectory_arrow_right</v-icon>\n  </v-btn\n  ><v-btn icon small outline color=\"indigo\" class=\"list-item\"\n    v-if=\"!root\"\n    @click=\"clickDelete\"\n  >\n    <v-icon>delete</v-icon>\n  </v-btn>\n  <v-snackbar\n    bottom\n    right\n    :timeout=\"2000\"\n    v-model=\"snackbar\"\n  >\n    One more click to delete.\n  </v-snackbar>\n</div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    snackbar: false\n  }),\n  props: {\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    },\n    root: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n  },\n  methods: {\n    clickDelete () {\n      if (this.snackbar) {\n        this.$emit('delete')\n        this.snackbar = false\n      } else {\n        this.snackbar = true\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.float-edit-menu-wrapper {\n  position: absolute;\n  border: 1px solid black;\n  border-radius: 4px;\n  background-color: #fff;\n  padding: 0 3px;\n\n  .list-item {\n    margin-left: 3px;\n    margin-right: 3px;\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/molecules/FloatEditMenu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"float-edit-menu-wrapper\",style:({top: (_vm.y + \"px\"), left: (_vm.x + \"px\")})},[(!_vm.root)?_c('v-btn',{staticClass:\"list-item\",attrs:{\"icon\":\"\",\"small\":\"\",\"outline\":\"\",\"color\":\"indigo\"},on:{\"click\":function($event){_vm.$emit('editText')}}},[_c('v-icon',[_vm._v(\"edit\")])],1):_vm._e(),(!_vm.root)?_c('v-btn',{staticClass:\"list-item\",attrs:{\"icon\":\"\",\"small\":\"\",\"outline\":\"\",\"color\":\"indigo\"},on:{\"click\":function($event){_vm.$emit('addBrother')}}},[_c('v-icon',[_vm._v(\"add\")])],1):_vm._e(),_c('v-btn',{staticClass:\"list-item\",attrs:{\"icon\":\"\",\"small\":\"\",\"outline\":\"\",\"color\":\"indigo\"},on:{\"click\":function($event){_vm.$emit('addChild')}}},[_c('v-icon',[_vm._v(\"subdirectory_arrow_right\")])],1),(!_vm.root)?_c('v-btn',{staticClass:\"list-item\",attrs:{\"icon\":\"\",\"small\":\"\",\"outline\":\"\",\"color\":\"indigo\"},on:{\"click\":_vm.clickDelete}},[_c('v-icon',[_vm._v(\"delete\")])],1):_vm._e(),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"bottom\":\"\",\"right\":\"\",\"timeout\":2000},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n    One more click to delete.\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e4cb815c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/molecules/FloatEditMenu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e4cb815c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FloatEditMenu.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FloatEditMenu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FloatEditMenu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e4cb815c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FloatEditMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e4cb815c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/molecules/FloatEditMenu.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"scale-tool-wrapper\">\n  <div class=\"scale-slider-wrapper\">\n    <v-slider\n      hide-details\n      :step=\"step\"\n      :min=\"min\"\n      :max=\"max\"\n      :value=\"scaleRate\"\n      @input=\"val => $emit('changeScaleRate', val)\"\n    />\n  </div>\n  <v-btn icon small outline color=\"indigo\" class=\"pan-button\" @click=\"$emit('clearZoom')\">\n    <v-icon>center_focus_weak</v-icon>\n  </v-btn>\n</div>\n</template>\n\n<script>\nexport default {\n  props: {\n    step: {\n      type: Number,\n      default: 0.1\n    },\n    min: {\n      type: Number,\n      default: -10\n    },\n    max: {\n      type: Number,\n      default: 10\n    },\n    scaleRate: {\n      type: Number,\n      default: 1\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.scale-tool-wrapper {\n  text-align: left;\n}\n.scale-slider-wrapper {\n  padding: 0 0 0 42px;\n  height: 0;\n}\n.input-group.input-group--slider {\n  padding: 0;\n}\n.pan-button {\n  margin: 0;\n  border: none;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/molecules/ScaleToolBox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scale-tool-wrapper\"},[_c('div',{staticClass:\"scale-slider-wrapper\"},[_c('v-slider',{attrs:{\"hide-details\":\"\",\"step\":_vm.step,\"min\":_vm.min,\"max\":_vm.max,\"value\":_vm.scaleRate},on:{\"input\":function (val) { return _vm.$emit('changeScaleRate', val); }}})],1),_vm._v(\" \"),_c('v-btn',{staticClass:\"pan-button\",attrs:{\"icon\":\"\",\"small\":\"\",\"outline\":\"\",\"color\":\"indigo\"},on:{\"click\":function($event){_vm.$emit('clearZoom')}}},[_c('v-icon',[_vm._v(\"center_focus_weak\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8aafaba6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/molecules/ScaleToolBox.vue\n// module id = null\n// module chunks = ","<template>\n<div\n  class=\"map-canvas-wrapper\"\n>\n  <!-- this setting, @mousewheel.prevent, make a event of mousewheel in the canvas better on Safari -->\n  <div\n    class=\"canvas-wrapper\"\n    :tabindex=\"canWrite ? '1' : ''\"\n    ref=\"svgCanvasWrapper\"\n    @click=\"getFocus\"\n    @keydown.self.enter.exact=\"keydownEnter\"\n    @keydown.self.enter.shift.exact=\"keydownShiftEnter\"\n    @keydown.self.up.exact=\"moveSelect('up')\"\n    @keydown.self.down.exact=\"moveSelect('down')\"\n    @keydown.self.left.exact=\"moveSelect('left')\"\n    @keydown.self.right.exact=\"moveSelect('right')\"\n    @keydown.self.up.shift.exact=\"changeOrder(true)\"\n    @keydown.self.down.shift.exact=\"changeOrder()\"\n    @keydown.self.space.self.exact=\"keydownSpace\"\n    @keydown.self.delete.shift.exact=\"keydownDelete\"\n    @keydown.self.90.ctrl.exact=\"$emit('undo')\"\n    @keydown.self.90.meta.exact=\"$emit('undo')\"\n    @keydown.self.90.ctrl.shift.exact=\"$emit('redo')\"\n    @keydown.self.90.meta.shift.exact=\"$emit('redo')\"\n    @mousewheel.prevent\n  >\n    <v-icon v-if=\"!canWrite\" class=\"lock-button\">lock</v-icon>\n    <SvgCanvas\n      ref=\"svgCanvas\"\n      :x=\"x\"\n      :y=\"y\"\n      :width=\"width\"\n      :height=\"height\"\n      :scale=\"scale\"\n      @move=\"move\"\n      @zoom=\"zoom\"\n      @selectRectangle=\"selectRectangle\"\n      @click=\"clearSelect\"\n      @mousemove.native=\"e => $isMobile.any ? '' : canvasCursorMove(e)\"\n      @mouseup.native=\"e => $isMobile.any ? '' : canvasCursorUp(e)\"\n      @touchmove.native=\"e => $isMobile.any ? canvasCursorMove(e) : ''\"\n      @touchend.native=\"e => $isMobile.any ? canvasCursorUp(e) : ''\"\n    >\n      <SvgConnector\n        v-for=\"(connector, i) in connectors\"\n        :key=\"i\"\n        :sx=\"connector.sx\"\n        :sy=\"connector.sy\"\n        :ex=\"connector.ex\"\n        :ey=\"connector.ey\"\n      />\n      <g v-if=\"connectorOfMovingNodes\" class=\"inserting-marker\">\n        <SvgConnector\n          :sx=\"connectorOfMovingNodes.sx\"\n          :sy=\"connectorOfMovingNodes.sy\"\n          :ex=\"connectorOfMovingNodes.ex\"\n          :ey=\"connectorOfMovingNodes.ey\"\n        />\n        <SvgRectangle\n          :x=\"connectorOfMovingNodes.ex\"\n          :y=\"connectorOfMovingNodes.ey - NODE_MARGIN_Y / 3 / 2\"\n          :rx=\"5\"\n          :ry=\"5\"\n          :width=\"50\"\n          :height=\"NODE_MARGIN_Y / 3\"\n          stroke=\"none\"\n          fill=\"blue\"\n        />\n      </g>\n      <SvgTextRectangle\n        class=\"mind-node\"\n        :class=\"{ 'moving-origin': movingNodePositions[key] }\"\n        v-for=\"(node, key) in nodes\"\n        :key=\"key\"\n        :ref=\"`node_${key}`\"\n        :x=\"nodePositions[key].x\"\n        :y=\"nodePositions[key].y\"\n        :text=\"key === editTextTarget ? editingText : node.text\"\n        :strokeWidth=\"selectedNodes[key] ? 2 : 1\"\n        :stroke=\"selectedNodes[key] ? 'blue' : 'black'\"\n        :fill=\"node.backgroundColor\"\n        :textFill=\"node.color\"\n        @calcSize=\"size => calcSize({key, size})\"\n        @mousedown.native.prevent=\"e => canWrite ? ($isMobile.any ? '' : nodeCursorDown(e, key)) : ''\"\n        @mouseup.native.prevent=\"e => canWrite ? ($isMobile.any ?  '' : nodeCursorUp(key, {shift: e.shiftKey})) : ''\"\n        @touchstart.native.prevent=\"e => canWrite ? ($isMobile.any ? nodeCursorDown(e, key) : '') : ''\"\n        @touchend.native.prevent=\"e => canWrite ? ($isMobile.any ?  nodeCursorUp(key, {shift: e.shiftKey}) : '') : ''\"\n      />\n      <SvgTextRectangle\n        class=\"mind-node moving-copy\"\n        v-for=\"(positions, key) in movingNodePositions\"\n        :key=\"`moving_${key}`\"\n        :x=\"positions.x\"\n        :y=\"positions.y\"\n        :text=\"nodes[key].text\"\n        :strokeWidth=\"selectedNodes[key] ? 2 : 1\"\n        :stroke=\"selectedNodes[key] ? 'blue' : 'black'\"\n        :fill=\"nodes[key].backgroundColor\"\n        :textFill=\"nodes[key].color\"\n      />\n    </SvgCanvas>\n  </div>\n  <div class=\"scale-tool\">\n    <ScaleToolBox\n      :min=\"MIN_SCALE_RATE\"\n      :max=\"MAX_SCALE_RATE\"\n      :step=\"0.1\"\n      :scaleRate=\"scaleRate\"\n      @changeScaleRate=\"val => scaleRate = val\"\n      @clearZoom=\"clearZoom\"\n    />\n  </div>\n  <FloatTextInput\n    v-if=\"editTextTargetNode && movingNodeCount === 0 && !isMultiSelect\"\n    v-model=\"editingText\"\n    :x=\"editTextTargetPosition.x\"\n    :y=\"editTextTargetPosition.y\"\n    :targetKey=\"editTextTarget\"\n    @done=\"doneEditText\"\n    @mousewheel.native.prevent=\"e => $isMobile.any ? '' : mousewheel(e)\"\n  />\n  <FloatEditMenu\n    v-if=\"editMenuTarget && movingNodeCount === 0 && !isMultiSelect\"\n    :root=\"editMenuTarget === ROOT_NODE\"\n    :x=\"editMenuTargetPosition.x\"\n    :y=\"editMenuTargetPosition.y\"\n    @editText=\"readyEditText(editMenuTarget)\"\n    @addBrother=\"createNode(true)\"\n    @addChild=\"createNode(false)\"\n    @delete=\"deleteNode\"\n    @mousewheel.native.prevent=\"e => $isMobile.any ? '' : mousewheel(e)\"\n  />\n</div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport firebase from '@/firebase'\nimport {\n  INTERVAL_CLICK,\n  INTERVAL_DOUBLE_CLICK,\n  NODE_MARGIN_Y,\n  ROOT_NODE\n} from '@/constants'\nimport {\n  calcPositions,\n  getUpdatedNodesWhenDeleteNode,\n  getUpdatedNodesWhenDeleteNodes,\n  getUpdatedNodesWhenCreateChildNode,\n  getUpdatedNodesWhenCreateBrotherdNode,\n  getUpdatedNodesWhenFitClosestParent,\n  getParentKey,\n  getNodeFrom,\n  getUpdatedNodesWhenChangeChildOrder,\n  getConnectors,\n  getBetterConnector\n} from '@/utils/model'\nimport { getCoveredRectangle, isCoveredRectangle } from '@/utils/geometry'\nimport * as canvasUtils from '@/utils/canvas'\n\nimport SvgCanvas from '@/components/atoms/svg/SvgCanvas'\nimport SvgRectangle from '@/components/atoms/svg/SvgRectangle'\nimport SvgTextRectangle from '@/components/molecules/svg/SvgTextRectangle'\nimport SvgConnector from '@/components/molecules/svg/SvgConnector'\nimport FloatTextInput from '@/components/molecules/FloatTextInput'\nimport FloatEditMenu from '@/components/molecules/FloatEditMenu'\nimport ScaleToolBox from '@/components/molecules/ScaleToolBox'\n\nexport default {\n  components: {\n    SvgCanvas,\n    SvgRectangle,\n    SvgTextRectangle,\n    SvgConnector,\n    FloatTextInput,\n    FloatEditMenu,\n    ScaleToolBox\n  },\n  data: () => ({\n    x: 0,\n    y: 0,\n    scaleRate: 0,\n    nodeCursorDownStart: 0,\n    nodeCursorClickLast: 0,\n    nodeSizes: {},\n    beforeMoveP: null,\n    movingNodePositions: {},\n\n    editTextTarget: null,\n    editingText: '',\n    editMenuTarget: null,\n\n    adjustParentWithMovingTimer: null,\n    insertInformationOfMovingNodes: null\n  }),\n  props: {\n    width: {\n      type: Number,\n      default: 400\n    },\n    height: {\n      type: Number,\n      default: 400\n    },\n    nodes: {\n      type: Object,\n      required: true,\n      validator: value => {\n        return ROOT_NODE in value\n      }\n    },\n    selectedNodes: {\n      type: Object,\n      default: () => ({})\n    },\n    fileAuthority: {\n      type: Object,\n      default: () => ({})\n    },\n    user: {\n      type: Object,\n      default: () => ({})\n    },\n    defaultNodeProps: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  mounted () {\n    this.$nextTick().then(() => {\n      this.clearZoom()\n    })\n  },\n  computed: {\n    canWrite () {\n      if (this.fileAuthority) {\n        if (this.fileAuthority.public && this.fileAuthority.public.write) {\n          // this file is public and writable\n          return true\n        }\n        const authority = this.fileAuthority.users[this.user.uid]\n        return authority && authority.write\n      } else {\n        return false\n      }\n    },\n    ROOT_NODE () {\n      return ROOT_NODE\n    },\n    NODE_MARGIN_Y () {\n      return NODE_MARGIN_Y\n    },\n    MIN_SCALE_RATE () {\n      return Math.min(Math.log(this.scaleCoveringAllNode) / Math.log(1.1) - 3, -5)\n    },\n    MAX_SCALE_RATE () {\n      return 25\n    },\n    viewRectangle () {\n      return {\n        x: this.x,\n        y: this.y,\n        width: this.width / this.scale,\n        height: this.height / this.scale\n      }\n    },\n    nodeCount () {\n      return Object.keys(this.nodes).length\n    },\n    movingNodeCount () {\n      return Object.keys(this.movingNodePositions).length\n    },\n    scale: {\n      get () {\n        return Math.pow(1.1, this.scaleRate)\n      },\n      set (val) {\n        let rate = Math.log(val) / Math.log(1.1)\n        if (rate < this.MIN_SCALE_RATE) {\n          rate = this.MIN_SCALE_RATE\n        }\n        if (rate > this.MAX_SCALE_RATE) {\n          rate = this.MAX_SCALE_RATE\n        }\n        this.scaleRate = rate\n      }\n    },\n    editTextTargetNode () {\n      return this.nodes[this.editTextTarget]\n    },\n    editTextTargetPosition () {\n      return this.getFloatMenuPosition(this.editTextTarget, 120)\n    },\n    editMenuTargetPosition () {\n      return this.getFloatMenuPosition(this.editMenuTarget, 80)\n    },\n    nodePositions () {\n      const size = { width: 50, height: 20 }\n      const sizes = {}\n      Object.keys(this.nodes).forEach(k => {\n        sizes[k] = this.nodeSizes[k] || Object.assign({}, size)\n      })\n      return calcPositions({ nodes: this.nodes, sizes, parentKey: ROOT_NODE })\n    },\n    connectors () {\n      return getConnectors({\n        nodes: this.nodes,\n        positions: this.nodePositions,\n        sizes: this.nodeSizes\n      })\n    },\n    connectorOfMovingNodes () {\n      const info = this.insertInformationOfMovingNodes\n      if (!info) {\n        return\n      }\n      const movingKey = Object.keys(this.movingNodePositions)[0]\n      return getBetterConnector({\n        nodes: this.nodes,\n        sizes: this.nodeSizes,\n        positions: this.nodePositions,\n        targetKey: movingKey,\n        newParentKey: info.parentKey,\n        newChildOrder: info.order\n      })\n    },\n    rectangleCoveringAllNode () {\n      const coveredRec = getCoveredRectangle({\n        positions: this.nodePositions,\n        sizes: this.nodeSizes\n      })\n      const max = Math.max(coveredRec.width, coveredRec.height)\n      // TODO brush better margin\n      const margin = max < 300 ? 200 : Math.max(100 - Math.pow(this.nodeCount, 2), 20)\n      coveredRec.x -= margin\n      coveredRec.y -= margin\n      coveredRec.width += margin * 2\n      coveredRec.height += margin * 2\n      return coveredRec\n    },\n    scaleCoveringAllNode () {\n      const coveredRec = this.rectangleCoveringAllNode\n      const widthRate = this.width / coveredRec.width\n      const heightRate = this.height / coveredRec.height\n      return Math.min(widthRate, heightRate)\n    },\n    isMultiSelect () {\n      return Object.keys(this.selectedNodes).length > 1\n    }\n  },\n  watch: {\n    scale () {\n      const position = this.$refs.svgCanvas.getPostionAfterChangeScale(\n        this.scale\n      )\n      this.x = position.x\n      this.y = position.y\n    },\n    selectedNodes (to, from) {\n      const keys = Object.keys(to)\n      if (keys.indexOf(this.editMenuTarget) === -1) {\n        this.editMenuTarget = null\n      }\n      if (keys.indexOf(this.editTextTarget) === -1) {\n        this.editTextTarget = null\n      }\n    }\n  },\n  methods: {\n    getFocus () {\n      this.$refs.svgCanvasWrapper.focus()\n    },\n    move ({ x, y }) {\n      this.x = x\n      this.y = y\n    },\n    zoom ({ scale, x, y }) {\n      this.scale = scale\n      this.x = x\n      this.y = y\n    },\n    clearZoom () {\n      return new Promise(resolve => {\n        const coveredRec = this.rectangleCoveringAllNode\n        const widthRate = this.width / coveredRec.width\n        const heightRate = this.height / coveredRec.height\n        this.scale = Math.min(widthRate, heightRate)\n        this.$nextTick().then(() => {\n          this.x = coveredRec.x\n          this.y = coveredRec.y\n          if (widthRate < heightRate) {\n            this.y -= (this.height / this.scale - coveredRec.height) / 2\n          } else {\n            this.x -= (this.width / this.scale - coveredRec.width) / 2\n          }\n          this.$nextTick().then(() => {\n            resolve()\n          })\n        })\n      })\n    },\n    nodeCursorDown (e, key) {\n      this.nodeCursorDownStart = Date.now()\n      if (key !== ROOT_NODE) {\n        const fromNodeDomP = canvasUtils.getPoint(e)\n        const nodeDomP = this.$refs.svgCanvas.svg2dom(this.nodePositions[key])\n        this.beforeMoveP = {\n          x: fromNodeDomP.x + nodeDomP.x,\n          y: fromNodeDomP.y + nodeDomP.y\n        }\n        this.movingNodePositions = {\n          [key]: Object.assign({}, this.nodePositions[key])\n        }\n      }\n    },\n    nodeCursorUp (key, { shift = false }) {\n      const now = Date.now()\n      if (now - this.nodeCursorDownStart < INTERVAL_CLICK) {\n        if (now - this.nodeCursorClickLast < INTERVAL_DOUBLE_CLICK) {\n          // double click\n          this.readyEditText(key)\n        } else {\n          // single click\n          this.toggleSelectNode(key, shift)\n        }\n        this.nodeCursorClickLast = now\n      }\n    },\n    canvasCursorMove (e) {\n      if (this.beforeMoveP) {\n        const p = canvasUtils.getPoint(e)\n        const dif = this.$refs.svgCanvas.dom2svgScale({\n          x: this.beforeMoveP.x - p.x,\n          y: this.beforeMoveP.y - p.y\n        })\n        Object.keys(this.movingNodePositions).forEach(key => {\n          this.movingNodePositions[key].x -= dif.x\n          this.movingNodePositions[key].y -= dif.y\n        })\n        this.beforeMoveP = Object.assign({}, p)\n        // reduce frequency of adjusting positions\n        if (!this.adjustParentWithMovingTimer) {\n          this.adjustParentWithMovingTimer = setTimeout(() => {\n            this.adjustParentWithMoving()\n            this.adjustParentWithMovingTimer = null\n          }, 250)\n        }\n      }\n    },\n    canvasCursorUp (e) {\n      this.adjustParentWithMoving(true)\n      this.beforeMoveP = null\n      this.movingNodePositions = {}\n    },\n    adjustParentWithMoving (commit) {\n      if (this.movingNodeCount > 0) {\n        const targetKey = Object.keys(this.movingNodePositions)[0]\n        const nodes = getUpdatedNodesWhenFitClosestParent({\n          nodes: this.nodes,\n          sizes: this.nodeSizes,\n          positions: this.nodePositions,\n          targetKey,\n          movingPositions: this.movingNodePositions\n        })\n        const newParentKey = getParentKey({ nodes, childKey: targetKey })\n        const newParentNode = nodes[newParentKey]\n        this.insertInformationOfMovingNodes = {\n          parentKey: newParentKey,\n          order: newParentNode.children.indexOf(targetKey)\n        }\n\n        if (commit) {\n          this.$emit('updateNodes', nodes)\n          this.insertInformationOfMovingNodes = null\n        }\n      }\n    },\n    clearSelect () {\n      this.$emit('clearSelect')\n      this.editMenuTarget = null\n      this.editTextTarget = null\n      this.editingText = null\n    },\n    clearSelectNode (key) {\n      this.$emit('setSelectedNodes', Object.assign({}, this.selectedNodes, {\n        [key]: false\n      }))\n      const keys = Object.keys(this.selectedNodes).filter(k => k !== key)\n      if (keys.length === 1) {\n        this.editMenuTarget = keys[0]\n      } else {\n        this.editMenuTarget = null\n      }\n      this.editTextTarget = null\n      this.editingText = null\n    },\n    selectNode (key, multi) {\n      if (!this.canWrite) {\n        return\n      }\n      if (multi) {\n        this.$emit('setSelectedNodes', Object.assign({}, this.selectedNodes, {\n          [key]: true\n        }))\n      } else {\n        this.$emit('setSelectedNodes', {\n          [key]: true\n        })\n      }\n      this.editMenuTarget = key\n      this.moveViewToCoverSelectedNode(key)\n    },\n    toggleSelectNode (key, multi) {\n      if (this.selectedNodes[key]) {\n        this.clearSelectNode(key)\n      } else {\n        this.selectNode(key, multi)\n      }\n    },\n    moveViewToCoverSelectedNode (key) {\n      const node = this.nodes[key]\n      if (!node) {\n        return\n      }\n      const position = this.nodePositions[key]\n      const size = this.nodeSizes[key]\n      if (size) {\n        const rec = this.viewRectangle\n        const margin = 30 / this.scale\n        if (size.width > rec.width || position.x < rec.x + margin) {\n          this.x = position.x - margin\n        } else if (position.x + size.width > rec.x + rec.width - margin) {\n          this.x = position.x + size.width + margin - rec.width\n        }\n        if (size.height > rec.height || position.y < rec.y + margin) {\n          this.y = position.y - margin\n        } else if (position.y + size.height > rec.y + rec.height - margin) {\n          this.y = position.y + size.height + margin * 3 - rec.height\n        }\n      } else {\n        this.$nextTick().then(() => {\n          this.moveViewToCoverSelectedNode(key)\n        })\n      }\n    },\n    readyEditText (key) {\n      if (!this.canWrite) {\n        return\n      }\n      this.selectNode(key)\n      this.editTextTarget = key\n      this.editingText = this.nodes[key] ? this.nodes[key].text : ''\n      this.editMenuTarget = null\n    },\n    doneEditText ({ value, targetKey }) {\n      const target = this.nodes[targetKey]\n      if (target) {\n        const next = Object.assign({}, target, {\n          text: value\n        })\n        this.$emit('updateNodes', {\n          [targetKey]: next\n        })\n        this.selectNode(targetKey)\n        this.editTextTarget = null\n        this.editingText = null\n        this.$refs.svgCanvasWrapper.focus()\n      }\n    },\n    createNode (brother = false) {\n      if (this.editMenuTarget === ROOT_NODE) {\n        brother = false\n      }\n      const key = firebase\n        .database()\n        .ref()\n        .push().getKey()\n      const updatedNodes = brother\n        ? getUpdatedNodesWhenCreateBrotherdNode({\n            nodes: this.nodes,\n            brotherKey: this.editMenuTarget,\n            newKey: key\n          })\n        : getUpdatedNodesWhenCreateChildNode({\n            nodes: this.nodes,\n            parentKey: this.editMenuTarget,\n            newKey: key\n          })\n      updatedNodes[key] = Object.assign({}, updatedNodes[key], this.defaultNodeProps)\n      this.$emit('updateNodes', updatedNodes)\n      this.$nextTick().then(() => {\n        this.readyEditText(key)\n      })\n    },\n    deleteNode () {\n      if (this.isMultiSelect) {\n        const updatedNodes = getUpdatedNodesWhenDeleteNodes({\n          nodes: this.nodes,\n          deleteKeys: this.selectedNodes\n        })\n        this.$emit('updateNodes', updatedNodes)\n        this.clearSelect()\n      } else {\n        const targetKey = this.editMenuTarget\n        if (targetKey) {\n          // select the parent if it exists\n          const parentKey = getParentKey({\n            nodes: this.nodes,\n            childKey: targetKey\n          })\n          if (parentKey) {\n            this.selectNode(parentKey)\n          }\n          const updatedNodes = getUpdatedNodesWhenDeleteNode({\n            nodes: this.nodes,\n            deleteKey: targetKey\n          })\n          this.$emit('updateNodes', updatedNodes)\n        }\n      }\n    },\n    calcSize ({ key, size }) {\n      Vue.set(this.nodeSizes, key, size)\n    },\n    keydownEnter () {\n      if (this.editMenuTarget && !this.editTextTarget) {\n        this.createNode(true)\n      }\n    },\n    keydownShiftEnter () {\n      if (this.editMenuTarget && !this.editTextTarget) {\n        this.createNode()\n      }\n    },\n    keydownSpace () {\n      if (this.editMenuTarget) {\n        this.readyEditText(this.editMenuTarget)\n      }\n    },\n    keydownDelete () {\n      this.deleteNode()\n    },\n    moveSelect (to) {\n      const targetKey = this.editMenuTarget\n      if (targetKey) {\n        const toKey = getNodeFrom({ nodes: this.nodes, to, targetKey })\n        if (toKey) {\n          this.selectNode(toKey)\n        }\n      }\n    },\n    changeOrder (up = false) {\n      const updatedNodes = getUpdatedNodesWhenChangeChildOrder({\n        nodes: this.nodes,\n        childKey: this.editMenuTarget,\n        dif: up ? -1 : 1\n      })\n      this.$emit('updateNodes', updatedNodes)\n    },\n    mousewheel (e) {\n      this.$refs.svgCanvas.canvasWheel(e)\n    },\n    getFloatMenuPosition (key, bottom) {\n      const position = this.nodePositions[key]\n      const size = this.nodeSizes[key]\n      const viewBottom = (this.viewRectangle.y + this.viewRectangle.height - this.y) * this.scale\n      const nodeViewY = (position.y - this.y) * this.scale\n      const nodeViewBottom = (position.y - this.y + size.height) * this.scale\n      let y = Math.min(nodeViewBottom, viewBottom - bottom) + 5\n      y = Math.max(y, nodeViewY)\n      const viewLeft = (this.viewRectangle.x - this.x) * this.scale\n      const nodeViewX = (position.x - this.x) * this.scale\n      const nodeViewRight = (position.x + size.width - this.x) * this.scale\n      let x = Math.max(nodeViewX, viewLeft + 20) - 5\n      x = Math.min(x, nodeViewRight)\n      return { x, y }\n    },\n    selectRectangle (rectangle) {\n      const selectedNodes = Object.keys(this.nodes).reduce((p, c) => {\n        const rec = {\n          x: this.nodePositions[c].x,\n          y: this.nodePositions[c].y,\n          width: this.nodeSizes[c].width,\n          height: this.nodeSizes[c].height\n        }\n        const selected = isCoveredRectangle({\n          outer: rectangle,\n          inner: rec\n        })\n        if (selected) {\n          p[c] = true\n        }\n        return p\n      }, {})\n      this.$emit('setSelectedNodes', Object.assign({}, this.selectedNodes, selectedNodes))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.map-canvas-wrapper {\n  position: relative;\n  overflow: hidden;\n\n  .canvas-wrapper {\n    outline: none;\n  }\n  .lock-button {\n    position: absolute;\n    top: 10px;\n    right: 0;\n  }\n  .mind-node {\n    cursor: pointer;\n  }\n  .mind-node.moving-origin {\n    opacity: 0.2;\n  }\n  .mind-node.moving-copy {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n  .inserting-marker {\n    opacity: 0.5;\n  }\n  .node-text-input {\n    position: absolute;\n  }\n  .scale-tool {\n    position: absolute;\n    bottom: 5px;\n    width: 100%;\n    padding: 0 15px 0 5px;\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/organisms/MapCanvas.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8aafaba6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ScaleToolBox.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ScaleToolBox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ScaleToolBox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8aafaba6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ScaleToolBox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8aafaba6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/molecules/ScaleToolBox.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-canvas-wrapper\"},[_c('div',{ref:\"svgCanvasWrapper\",staticClass:\"canvas-wrapper\",attrs:{\"tabindex\":_vm.canWrite ? '1' : ''},on:{\"click\":_vm.getFocus,\"keydown\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.keydownEnter($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if(!$event.shiftKey){ return null; }if($event.ctrlKey||$event.altKey||$event.metaKey){ return null; }_vm.keydownShiftEnter($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"up\",38,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.moveSelect('up')},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"down\",40,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.moveSelect('down')},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"left\",37,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if('button' in $event && $event.button !== 0){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.moveSelect('left')},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"right\",39,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if('button' in $event && $event.button !== 2){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.moveSelect('right')},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"up\",38,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if(!$event.shiftKey){ return null; }if($event.ctrlKey||$event.altKey||$event.metaKey){ return null; }_vm.changeOrder(true)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"down\",40,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if(!$event.shiftKey){ return null; }if($event.ctrlKey||$event.altKey||$event.metaKey){ return null; }_vm.changeOrder()},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"space\",32,$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.keydownSpace($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key)){ return null; }if($event.target !== $event.currentTarget){ return null; }if(!$event.shiftKey){ return null; }if($event.ctrlKey||$event.altKey||$event.metaKey){ return null; }_vm.keydownDelete($event)},function($event){if(!('button' in $event)&&$event.keyCode!==90){ return null; }if($event.target !== $event.currentTarget){ return null; }if(!$event.ctrlKey){ return null; }if($event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.$emit('undo')},function($event){if(!('button' in $event)&&$event.keyCode!==90){ return null; }if($event.target !== $event.currentTarget){ return null; }if(!$event.metaKey){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey){ return null; }_vm.$emit('undo')},function($event){if(!('button' in $event)&&$event.keyCode!==90){ return null; }if($event.target !== $event.currentTarget){ return null; }if(!$event.ctrlKey){ return null; }if(!$event.shiftKey){ return null; }if($event.altKey||$event.metaKey){ return null; }_vm.$emit('redo')},function($event){if(!('button' in $event)&&$event.keyCode!==90){ return null; }if($event.target !== $event.currentTarget){ return null; }if(!$event.metaKey){ return null; }if(!$event.shiftKey){ return null; }if($event.ctrlKey||$event.altKey){ return null; }_vm.$emit('redo')}],\"mousewheel\":function($event){$event.preventDefault();}}},[(!_vm.canWrite)?_c('v-icon',{staticClass:\"lock-button\"},[_vm._v(\"lock\")]):_vm._e(),_vm._v(\" \"),_c('SvgCanvas',{ref:\"svgCanvas\",attrs:{\"x\":_vm.x,\"y\":_vm.y,\"width\":_vm.width,\"height\":_vm.height,\"scale\":_vm.scale},on:{\"move\":_vm.move,\"zoom\":_vm.zoom,\"selectRectangle\":_vm.selectRectangle,\"click\":_vm.clearSelect},nativeOn:{\"mousemove\":function($event){(function (e) { return _vm.$isMobile.any ? '' : _vm.canvasCursorMove(e); })($event)},\"mouseup\":function($event){(function (e) { return _vm.$isMobile.any ? '' : _vm.canvasCursorUp(e); })($event)},\"touchmove\":function($event){(function (e) { return _vm.$isMobile.any ? _vm.canvasCursorMove(e) : ''; })($event)},\"touchend\":function($event){(function (e) { return _vm.$isMobile.any ? _vm.canvasCursorUp(e) : ''; })($event)}}},[_vm._l((_vm.connectors),function(connector,i){return _c('SvgConnector',{key:i,attrs:{\"sx\":connector.sx,\"sy\":connector.sy,\"ex\":connector.ex,\"ey\":connector.ey}})}),_vm._v(\" \"),(_vm.connectorOfMovingNodes)?_c('g',{staticClass:\"inserting-marker\"},[_c('SvgConnector',{attrs:{\"sx\":_vm.connectorOfMovingNodes.sx,\"sy\":_vm.connectorOfMovingNodes.sy,\"ex\":_vm.connectorOfMovingNodes.ex,\"ey\":_vm.connectorOfMovingNodes.ey}}),_vm._v(\" \"),_c('SvgRectangle',{attrs:{\"x\":_vm.connectorOfMovingNodes.ex,\"y\":_vm.connectorOfMovingNodes.ey - _vm.NODE_MARGIN_Y / 3 / 2,\"rx\":5,\"ry\":5,\"width\":50,\"height\":_vm.NODE_MARGIN_Y / 3,\"stroke\":\"none\",\"fill\":\"blue\"}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.nodes),function(node,key){return _c('SvgTextRectangle',{key:key,ref:(\"node_\" + key),refInFor:true,staticClass:\"mind-node\",class:{ 'moving-origin': _vm.movingNodePositions[key] },attrs:{\"x\":_vm.nodePositions[key].x,\"y\":_vm.nodePositions[key].y,\"text\":key === _vm.editTextTarget ? _vm.editingText : node.text,\"strokeWidth\":_vm.selectedNodes[key] ? 2 : 1,\"stroke\":_vm.selectedNodes[key] ? 'blue' : 'black',\"fill\":node.backgroundColor,\"textFill\":node.color},on:{\"calcSize\":function (size) { return _vm.calcSize({key: key, size: size}); }},nativeOn:{\"mousedown\":function($event){$event.preventDefault();(function (e) { return _vm.canWrite ? (_vm.$isMobile.any ? '' : _vm.nodeCursorDown(e, key)) : ''; })($event)},\"mouseup\":function($event){$event.preventDefault();(function (e) { return _vm.canWrite ? (_vm.$isMobile.any ?  '' : _vm.nodeCursorUp(key, {shift: e.shiftKey})) : ''; })($event)},\"touchstart\":function($event){$event.preventDefault();(function (e) { return _vm.canWrite ? (_vm.$isMobile.any ? _vm.nodeCursorDown(e, key) : '') : ''; })($event)},\"touchend\":function($event){$event.preventDefault();(function (e) { return _vm.canWrite ? (_vm.$isMobile.any ?  _vm.nodeCursorUp(key, {shift: e.shiftKey}) : '') : ''; })($event)}}})}),_vm._v(\" \"),_vm._l((_vm.movingNodePositions),function(positions,key){return _c('SvgTextRectangle',{key:(\"moving_\" + key),staticClass:\"mind-node moving-copy\",attrs:{\"x\":positions.x,\"y\":positions.y,\"text\":_vm.nodes[key].text,\"strokeWidth\":_vm.selectedNodes[key] ? 2 : 1,\"stroke\":_vm.selectedNodes[key] ? 'blue' : 'black',\"fill\":_vm.nodes[key].backgroundColor,\"textFill\":_vm.nodes[key].color}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"scale-tool\"},[_c('ScaleToolBox',{attrs:{\"min\":_vm.MIN_SCALE_RATE,\"max\":_vm.MAX_SCALE_RATE,\"step\":0.1,\"scaleRate\":_vm.scaleRate},on:{\"changeScaleRate\":function (val) { return _vm.scaleRate = val; },\"clearZoom\":_vm.clearZoom}})],1),_vm._v(\" \"),(_vm.editTextTargetNode && _vm.movingNodeCount === 0 && !_vm.isMultiSelect)?_c('FloatTextInput',{attrs:{\"x\":_vm.editTextTargetPosition.x,\"y\":_vm.editTextTargetPosition.y,\"targetKey\":_vm.editTextTarget},on:{\"done\":_vm.doneEditText},nativeOn:{\"mousewheel\":function($event){$event.preventDefault();(function (e) { return _vm.$isMobile.any ? '' : _vm.mousewheel(e); })($event)}},model:{value:(_vm.editingText),callback:function ($$v) {_vm.editingText=$$v},expression:\"editingText\"}}):_vm._e(),_vm._v(\" \"),(_vm.editMenuTarget && _vm.movingNodeCount === 0 && !_vm.isMultiSelect)?_c('FloatEditMenu',{attrs:{\"root\":_vm.editMenuTarget === _vm.ROOT_NODE,\"x\":_vm.editMenuTargetPosition.x,\"y\":_vm.editMenuTargetPosition.y},on:{\"editText\":function($event){_vm.readyEditText(_vm.editMenuTarget)},\"addBrother\":function($event){_vm.createNode(true)},\"addChild\":function($event){_vm.createNode(false)},\"delete\":_vm.deleteNode},nativeOn:{\"mousewheel\":function($event){$event.preventDefault();(function (e) { return _vm.$isMobile.any ? '' : _vm.mousewheel(e); })($event)}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-70443b7a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/organisms/MapCanvas.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-70443b7a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapCanvas.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapCanvas.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapCanvas.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-70443b7a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapCanvas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-70443b7a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/organisms/MapCanvas.vue\n// module id = null\n// module chunks = ","export const getterTypes = {\n  NODES: 'NODES',\n  SELECTED_NODES: 'SELECTED_NODES',\n  FILE_KEY: 'FILE_KEY',\n  INITIAL_LOADING: 'INITIAL_LOADING'\n}\n\nexport const actionTypes = {\n  DISCONNECT: 'DISCONNECT',\n  LOAD_NODES: 'LOAD_NODES',\n  UPDATE_NODES: 'UPDATE_NODES',\n  UNDO_NODES: 'UNDO_NODES',\n  REDO_NODES: 'REDO_NODES',\n  SET_SELECTED_NODES: 'SET_SELECTED_NODES',\n  CLEAR_SELECT: 'CLEAR_SELECT',\n  RESCUE_CONFRICT: 'RESCUE_CONFRICT'\n}\n\nexport const mutationTypes = {\n  UPDATE_NODES: 'UPDATE_NODES',\n  SET_SELECTED_NODES: 'SET_SELECTED_NODES',\n  SET_FILE_KEY: 'SET_FILE_KEY',\n  CLEAR_NODES: 'CLEAR_NODES',\n  SET_INITIAL_LOADING: 'SET_INITIAL_LOADING',\n  PUSH_UNDO_STACK: 'PUSH_UNDO_STACK',\n  POP_UNDO_STACK: 'POP_UNDO_STACK',\n  POP_REDO_STACK: 'POP_REDO_STACK',\n  CLEAR_STACKS: 'CLEAR_STACKS',\n  CLEAR_UNDO_STACKS: 'CLEAR_UNDO_STACKS',\n  CLEAR_REDO_STACKS: 'CLEAR_REDO_STACKS'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/nodes/types.js","export const getterTypes = {\n  FILES: 'FILES',\n  FILE_AUTHORITIES: 'FILE_AUTHORITIES',\n  SHARED_FILES: 'SHARED_FILES',\n  SHARED_FILE_AUTHORITIES: 'SHARED_FILE_AUTHORITIES',\n  FILE_FROM_KEY: 'FILE_FROM_KEY',\n  FILE_AUTHORITY_FROM_KEY: 'FILE_AUTHORITY_FROM_KEY',\n  IS_MY_FILE_FROM_KEY: 'IS_MY_FILE_FROM_KEY'\n}\n\nexport const actionTypes = {\n  LOAD_FILE: 'LOAD_FILE',\n  LOAD_FILES: 'LOAD_FILES',\n  UPDATE_FILES: 'UPDATE_FILES',\n  CREATE_FILE: 'CREATE_FILE',\n  DELETE_FILES: 'DELETE_FILES',\n  INVITE_USER: 'INVITE_USER',\n  UPDATE_STATUS: 'UPDATE_STATUS'\n}\n\nexport const mutationTypes = {\n  UPDATE_FILES: 'UPDATE_FILES',\n  UPDATE_FILE_AUTHORITIES: 'UPDATE_FILE_AUTHORITIES',\n  UPDATE_SHARED_FILES: 'UPDATE_SHARED_FILES',\n  UPDATE_SHARED_FILE_AUTHORITIES: 'UPDATE_SHARED_FILE_AUTHORITIES',\n  CLEAR_FILES: 'CLEAR_FILES'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/files/types.js","export const getterTypes = {\n  NODE_COLOR: 'NODE_COLOR',\n  TEXT_COLOR: 'TEXT_COLOR'\n}\n\nexport const actionTypes = {\n  SET_NODE_COLOR: 'SET_NODE_COLOR',\n  SET_TEXT_COLOR: 'SET_TEXT_COLOR'\n}\n\nexport const mutationTypes = {\n  SET_NODE_COLOR: 'SET_NODE_COLOR',\n  SET_TEXT_COLOR: 'SET_TEXT_COLOR'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/settings/types.js","<template>\n<div>\n  <MapCanvas\n    v-if=\"loaded\"\n    :width=\"canvasWidth\"\n    :height=\"canvasHeight\"\n    :nodes=\"nodes\"\n    :selectedNodes=\"selectedNodes\"\n    :fileAuthority=\"fileAuthority\"\n    :user=\"user\"\n    :defaultNodeProps=\"defaultNodeProps\"\n    @updateNodes=\"nodes => updateNodes({ nodes })\"\n    @setSelectedNodes=\"selectedNodes => setSelectedNodes({ selectedNodes })\"\n    @clearSelect=\"clearSelect\"\n    @undo=\"undo\"\n    @redo=\"redo\"\n  />\n  <v-snackbar\n    bottom\n    right\n    color=\"error\"\n    :timeout=\"4000\"\n    v-model=\"snackbar\"\n  >\n    {{message}}\n  </v-snackbar>\n</div>\n</template>\n\n<script>\nimport MapCanvas from '@/components/organisms/MapCanvas'\n\nimport { mapGetters, mapActions } from 'vuex'\nimport { getterTypes as layoutsGetterTypes } from '@/store/layouts/types'\nimport { getterTypes as nodesGetterTypes, actionTypes as nodesActionTypes } from '@/store/nodes/types'\nimport { getterTypes as filesGetterTypes, actionTypes as filesActionTypes } from '@/store/files/types'\nimport { getterTypes as userGetterTypes } from '@/store/user/types'\nimport { getterTypes as settingsGetterTypes } from '@/store/settings/types'\n\nexport default {\n  components: {\n    MapCanvas\n  },\n  data: () => ({\n    message: ''\n  }),\n  props: {\n    fileKey: {\n      type: String,\n      required: true\n    }\n  },\n  computed: {\n    ...mapGetters('layouts', {\n      leftDrawer: layoutsGetterTypes.LEFT_DRAWER\n    }),\n    ...mapGetters('user', {\n      user: userGetterTypes.USER\n    }),\n    ...mapGetters('nodes', {\n      nodes: nodesGetterTypes.NODES,\n      selectedNodes: nodesGetterTypes.SELECTED_NODES,\n      initialLoading: nodesGetterTypes.INITIAL_LOADING\n    }),\n    ...mapGetters('files', {\n      fileFromKey: filesGetterTypes.FILE_FROM_KEY,\n      fileAuthorityFromKey: filesGetterTypes.FILE_AUTHORITY_FROM_KEY\n    }),\n    ...mapGetters('settings', {\n      nodeColor: settingsGetterTypes.NODE_COLOR,\n      textColor: settingsGetterTypes.TEXT_COLOR\n    }),\n    canvasWidth () {\n      return this.$window.width >= 1264 && this.leftDrawer ? this.$window.width - 300 - 20 : this.$window.width - 20\n    },\n    canvasHeight () {\n      return this.$window.height - 48\n    },\n    defaultNodeProps () {\n      return {\n        backgroundColor: this.nodeColor,\n        color: this.textColor\n      }\n    },\n    file () {\n      return this.fileFromKey({fileKey: this.fileKey})\n    },\n    fileAuthority () {\n      return this.fileAuthorityFromKey({fileKey: this.fileKey})\n    },\n    loaded () {\n      // If the count of nodes in a file is zero, the records of nodes don't exist.\n      return !this.initialLoading || (this.file && this.file.nodeCount < 1)\n    },\n    snackbar: {\n      get () {\n        return !!this.message\n      },\n      set (val) {\n        this.message = val ? this.message : ''\n      }\n    }\n  },\n  mounted () {\n    this.loadNodes({ fileKey: this.fileKey })\n    this.loadFile({ key: this.fileKey })\n  },\n  destroyed () {\n    this.disconnect()\n  },\n  methods: {\n    ...mapActions('nodes', {\n      disconnect: nodesActionTypes.DISCONNECT,\n      updateNodes: nodesActionTypes.UPDATE_NODES,\n      setSelectedNodes: nodesActionTypes.SET_SELECTED_NODES,\n      clearSelect: nodesActionTypes.CLEAR_SELECT,\n      loadNodes: nodesActionTypes.LOAD_NODES,\n      _undo: nodesActionTypes.UNDO_NODES,\n      _redo: nodesActionTypes.REDO_NODES\n    }),\n    ...mapActions('files', {\n      loadFile: filesActionTypes.LOAD_FILE\n    }),\n    undo () {\n      this._undo().catch(e => {\n        this.message = e.message\n      })\n    },\n    redo () {\n      this._redo().catch(e => {\n        this.message = e.message\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/containers/MapCanvasContainer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loaded)?_c('MapCanvas',{attrs:{\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight,\"nodes\":_vm.nodes,\"selectedNodes\":_vm.selectedNodes,\"fileAuthority\":_vm.fileAuthority,\"user\":_vm.user,\"defaultNodeProps\":_vm.defaultNodeProps},on:{\"updateNodes\":function (nodes) { return _vm.updateNodes({ nodes: nodes }); },\"setSelectedNodes\":function (selectedNodes) { return _vm.setSelectedNodes({ selectedNodes: selectedNodes }); },\"clearSelect\":_vm.clearSelect,\"undo\":_vm.undo,\"redo\":_vm.redo}}):_vm._e(),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"bottom\":\"\",\"right\":\"\",\"color\":\"error\",\"timeout\":4000},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.message)+\"\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ce5a62d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/containers/MapCanvasContainer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ce5a62d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapCanvasContainer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapCanvasContainer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapCanvasContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ce5a62d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapCanvasContainer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3ce5a62d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/containers/MapCanvasContainer.vue\n// module id = null\n// module chunks = ","<template>\n  <v-layout row justify-center>\n    <v-dialog v-model=\"dialog\" max-width=\"400\">\n      <v-btn icon slot=\"activator\">\n        <v-icon>share</v-icon>\n      </v-btn>\n      <v-card>\n        <v-card-title class=\"headline\">File status</v-card-title>\n        <v-card-text>\n          <form>\n            <v-checkbox\n              label=\"Public\"\n              v-model=\"publicFileLocal\"\n              :disabled=\"!canEditPublic\"\n            />\n            <v-checkbox\n              v-if=\"publicFileLocal\"\n              label=\"Read Only (except for invited users)\"\n              v-model=\"publicReadOnlyLocal\"\n              :disabled=\"!canEditPublic\"\n            />\n            <v-btn v-if=\"canEditPublic\" @click=\"setStatus\">Set status</v-btn>\n          </form>\n        </v-card-text>\n      </v-card>\n      <v-divider/>\n      <v-card>\n        <v-card-title class=\"headline\">Share</v-card-title>\n        <v-card-text>\n          <form>\n            <v-text-field\n              label=\"E-mail\"\n              v-model=\"email\"\n              :error-messages=\"emailErrors\"\n              required\n            />\n            <v-checkbox\n              label=\"Read only\"\n              v-model=\"readOnly\"\n            />\n            <v-btn @click=\"invite\">Invite users</v-btn>\n          </form>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    dialog: false,\n    email: '',\n    readOnly: false,\n    publicFileLocal: false,\n    publicReadOnlyLocal: false\n  }),\n  props: {\n    publicFile: {\n      type: Boolean,\n      default: false\n    },\n    publicReadOnly: {\n      type: Boolean,\n      default: false\n    },\n    canEditPublic: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    emailErrors () {\n      return []\n    }\n  },\n  watch: {\n    publicFile (to, from) {\n      this.publicFileLocal = to || false\n    },\n    publicReadOnly (to, from) {\n      this.publicReadOnlyLocal = to || false\n    }\n  },\n  mounted () {\n    this.publicFileLocal = this.publicFile || false\n    this.publicReadOnlyLocal = this.publicReadOnly || false\n  },\n  methods: {\n    setStatus () {\n      this.$emit('setStatus', {\n        publicFile: this.publicFileLocal,\n        readOnly: this.publicReadOnlyLocal\n      })\n      this.dialog = false\n    },\n    invite () {\n      this.$emit('invite', { email: this.email, readOnly: this.readOnly })\n      this.dialog = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/organisms/InviteUserDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"max-width\":\"400\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"icon\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"share\")])],1),_vm._v(\" \"),_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"File status\")]),_vm._v(\" \"),_c('v-card-text',[_c('form',[_c('v-checkbox',{attrs:{\"label\":\"Public\",\"disabled\":!_vm.canEditPublic},model:{value:(_vm.publicFileLocal),callback:function ($$v) {_vm.publicFileLocal=$$v},expression:\"publicFileLocal\"}}),_vm._v(\" \"),(_vm.publicFileLocal)?_c('v-checkbox',{attrs:{\"label\":\"Read Only (except for invited users)\",\"disabled\":!_vm.canEditPublic},model:{value:(_vm.publicReadOnlyLocal),callback:function ($$v) {_vm.publicReadOnlyLocal=$$v},expression:\"publicReadOnlyLocal\"}}):_vm._e(),_vm._v(\" \"),(_vm.canEditPublic)?_c('v-btn',{on:{\"click\":_vm.setStatus}},[_vm._v(\"Set status\")]):_vm._e()],1)])],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Share\")]),_vm._v(\" \"),_c('v-card-text',[_c('form',[_c('v-text-field',{attrs:{\"label\":\"E-mail\",\"error-messages\":_vm.emailErrors,\"required\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('v-checkbox',{attrs:{\"label\":\"Read only\"},model:{value:(_vm.readOnly),callback:function ($$v) {_vm.readOnly=$$v},expression:\"readOnly\"}}),_vm._v(\" \"),_c('v-btn',{on:{\"click\":_vm.invite}},[_vm._v(\"Invite users\")])],1)])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c3bb9af\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/organisms/InviteUserDialog.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"width\":\"400px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"icon\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"help\")])],1),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Help\")])]),_vm._v(\" \"),_c('v-list',{attrs:{\"two-line\":\"\",\"subheader\":\"\"}},[_c('v-divider'),_vm._v(\" \"),_c('v-subheader',[_vm._v(\"Select\")]),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Move focus\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Arrow\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Multiple\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Shift\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Click\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Rectangle\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Shift\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Drag\")])])],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-subheader',[_vm._v(\"Selecting a Node\")]),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Create a younger node\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Enter\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Create a child node\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Shift\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Enter\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Delete a node\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Shift\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Delete\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Edit text\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Space\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Complete editing text\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Escape\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Change the parent\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Drag\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Switch order\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Shift\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Up or Down\")])])],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-subheader',[_vm._v(\"History\")]),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Undo\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Control\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Z\")]),_vm._v(\" , \"),_c('code',[_vm._v(\"Command\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Z\")])])],1)],1),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n              Redo\\n            \")]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('code',[_vm._v(\"Control\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Shift\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Z\")]),_vm._v(\" , \"),_c('code',[_vm._v(\"Command\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Shift\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Z\")])])],1)],1),_vm._v(\" \"),_c('v-divider')],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"black darken-1\",\"flat\":\"flat\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ceee14f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/organisms/MapHelpDialog.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"map-menu\">\n  <InviteUserDialog\n    v-if=\"canShare\"\n    :publicFile=\"!!publicFile\"\n    :publicReadOnly=\"publicFile ? !publicFile.write : false\"\n    :canEditPublic=\"canEditPublic\"\n    @setStatus=\"setStatus\"\n    @invite=\"invite\"\n  />\n  <MapHelpDialog/>\n</div>\n</template>\n\n<script>\nimport InviteUserDialog from '@/components/organisms/InviteUserDialog'\nimport MapHelpDialog from '@/components/organisms/MapHelpDialog'\n\nimport { mapGetters, mapActions } from 'vuex'\nimport { getterTypes as nodesActionTypes } from '@/store/nodes/types'\nimport { getterTypes as filesGetterTypes, actionTypes as filesActionTypes } from '@/store/files/types'\nimport { getterTypes as userActionTypes } from '@/store/user/types'\n\nexport default {\n  components: {\n    InviteUserDialog,\n    MapHelpDialog\n  },\n  computed: {\n    ...mapGetters('nodes', {\n      fileKey: nodesActionTypes.FILE_KEY\n    }),\n    ...mapGetters('files', {\n      fileAuthorityFromKey: filesGetterTypes.FILE_AUTHORITY_FROM_KEY,\n      isMyFileFromKey: filesGetterTypes.IS_MY_FILE_FROM_KEY\n    }),\n    ...mapGetters('user', {\n      user: userActionTypes.USER\n    }),\n    fileAuthority () {\n      return this.fileAuthorityFromKey({fileKey: this.fileKey})\n    },\n    canEditPublic () {\n      // only the file owenr can edit public settings\n      return this.isMyFileFromKey({fileKey: this.fileKey})\n    },\n    canShare () {\n      const uid = this.user.uid\n      const fileAuthority = this.fileAuthority\n      if (fileAuthority) {\n        // The file owenr and users who are invited and have writable authority can invite others.\n        const authority = fileAuthority.users[uid]\n        return authority && authority.write\n      } else {\n        return false\n      }\n    },\n    publicFile () {\n      const fileAuthority = this.fileAuthority\n      if (fileAuthority) {\n        return fileAuthority.public\n      } else {\n        return null\n      }\n    }\n  },\n  methods: {\n    ...mapActions('files', {\n      inviteUser: filesActionTypes.INVITE_USER,\n      updateStatus: filesActionTypes.UPDATE_STATUS\n    }),\n    invite ({ email, readOnly }) {\n      this.inviteUser({\n        fileKey: this.fileKey,\n        email,\n        readOnly\n      })\n    },\n    setStatus ({publicFile, readOnly}) {\n      this.updateStatus({\n        publicFile,\n        readOnly,\n        fileKey: this.fileKey\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.map-menu {\n  display: inherit;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/containers/MapMenu.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c3bb9af\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InviteUserDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InviteUserDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InviteUserDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c3bb9af\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./InviteUserDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c3bb9af\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/organisms/InviteUserDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ceee14f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapHelpDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapHelpDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapHelpDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ceee14f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapHelpDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ceee14f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/organisms/MapHelpDialog.vue\n// module id = null\n// module chunks = ","<template>\n<v-layout row justify-center>\n  <v-dialog v-model=\"dialog\" width=\"400px\">\n    <v-btn icon slot=\"activator\">\n      <v-icon>help</v-icon>\n    </v-btn>\n    <v-card>\n      <v-card-title>\n        <span class=\"headline\">Help</span>\n      </v-card-title>\n      <v-list two-line subheader>\n\n        <v-divider></v-divider>\n        <v-subheader>Select</v-subheader>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Move focus\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Arrow</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Multiple\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Shift</code> + <code>Click</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Rectangle\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Shift</code> + <code>Drag</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-divider></v-divider>\n        <v-subheader>Selecting a Node</v-subheader>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Create a younger node\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Enter</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Create a child node\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Shift</code> + <code>Enter</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Delete a node\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Shift</code> + <code>Delete</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Edit text\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Space</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Complete editing text\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Escape</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Change the parent\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Drag</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Switch order\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Shift</code> + <code>Up or Down</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-divider></v-divider>\n        <v-subheader>History</v-subheader>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Undo\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Control</code> + <code>Z</code> , <code>Command</code> + <code>Z</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-list-tile avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>\n              Redo\n            </v-list-tile-title>\n            <v-list-tile-sub-title>\n              <code>Control</code> + <code>Shift</code> + <code>Z</code> , <code>Command</code> + <code>Shift</code> + <code>Z</code>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-divider></v-divider>\n\n      </v-list>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"black darken-1\" flat=\"flat\" @click=\"dialog = false\">Close</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</v-layout>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    dialog: false\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/organisms/MapHelpDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-menu\"},[(_vm.canShare)?_c('InviteUserDialog',{attrs:{\"publicFile\":!!_vm.publicFile,\"publicReadOnly\":_vm.publicFile ? !_vm.publicFile.write : false,\"canEditPublic\":_vm.canEditPublic},on:{\"setStatus\":_vm.setStatus,\"invite\":_vm.invite}}):_vm._e(),_vm._v(\" \"),_c('MapHelpDialog')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2aabc985\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/containers/MapMenu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2aabc985\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapMenu.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapMenu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapMenu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2aabc985\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2aabc985\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/containers/MapMenu.vue\n// module id = null\n// module chunks = ","<template>\n<v-tabs grow>\n  <v-tabs-bar class=\"grey lighten-4\" light>\n    <v-tabs-item href=\"#left-drawer-edit\" class=\"primary--text\">\n      <v-icon>mode_edit</v-icon>\n    </v-tabs-item>\n    <v-tabs-item href=\"#left-drawer-file\" class=\"primary--text\">\n      <v-icon>insert_drive_file</v-icon>\n    </v-tabs-item>\n    <v-tabs-slider color=\"yellow\"></v-tabs-slider>\n  </v-tabs-bar>\n  <v-tabs-items>\n    <v-tabs-content\n      :id=\"'left-drawer-edit'\"\n    >\n      <v-list>\n        <v-list-tile :style=\"{background: nodeColor}\" @click=\"showNodeColorPicker = !showNodeColorPicker\">\n          <v-list-tile-action>\n            <v-icon :style=\"{color: textColor}\">palette</v-icon>\n          </v-list-tile-action>\n          <v-list-tile-content>\n            <v-list-tile-title :style=\"{color: textColor}\"><b>Node Color</b></v-list-tile-title>\n          </v-list-tile-content>\n        </v-list-tile>\n        <li v-if=\"showNodeColorPicker\" class=\"picker-box\">\n          <ColorPicker :value=\"nodeColor\" @input=\"val => $emit('changeNodeColor', val.hex)\"/>\n        </li>\n        <v-list-tile :style=\"{background: nodeColor}\" @click=\"showTextColorPicker = !showTextColorPicker\">\n          <v-list-tile-action>\n            <v-icon :style=\"{color: textColor}\">palette</v-icon>\n          </v-list-tile-action>\n          <v-list-tile-content>\n            <v-list-tile-title :style=\"{color: textColor}\"><b>Text Color</b></v-list-tile-title>\n          </v-list-tile-content>\n        </v-list-tile>\n        <li v-if=\"showTextColorPicker\" class=\"picker-box\">\n          <ColorPicker :value=\"textColor\" @input=\"val => $emit('changeTextColor', val.hex)\"/>\n        </li>\n      </v-list>\n    </v-tabs-content>\n    <v-tabs-content\n      :id=\"'left-drawer-file'\"\n    >\n      <v-list>\n        <v-list-tile @click=\"printSvg\">\n          <v-list-tile-action>\n            <v-icon>file_download</v-icon>\n          </v-list-tile-action>\n          <v-list-tile-content>\n            <v-list-tile-title>SVG</v-list-tile-title>\n          </v-list-tile-content>\n        </v-list-tile>\n        <MapCanvas\n          v-if=\"renderCanvas\"\n          ref=\"mapCanvas\"\n          class=\"map-canvas\"\n          :nodes=\"nodes\"\n          :width=\"canvasWidth\"\n          :height=\"canvasHeight\"\n        />\n        <v-divider/>\n        <v-list-tile @click=\"$emit('repairFile')\">\n          <v-list-tile-action>\n            <v-icon>autorenew</v-icon>\n          </v-list-tile-action>\n          <v-list-tile-content>\n            <v-list-tile-title>Repair file</v-list-tile-title>\n          </v-list-tile-content>\n        </v-list-tile>\n      </v-list>\n    </v-tabs-content>\n  </v-tabs-items>\n</v-tabs>\n\n\n</template>\n\n<script>\nimport { Swatches } from 'vue-color'\nimport MapCanvas from './MapCanvas'\nimport { ROOT_NODE } from '@/constants'\n\nexport default {\n  components: {\n    ColorPicker: Swatches,\n    MapCanvas\n  },\n  data: () => ({\n    renderCanvas: false,\n    showNodeColorPicker: false,\n    showTextColorPicker: false\n  }),\n  props: {\n    nodes: {\n      type: Object,\n      required: true,\n      validator: (value) => {\n        return (ROOT_NODE in value)\n      }\n    },\n    file: {\n      type: Object,\n      required: true\n    },\n    nodeColor: {\n      type: String,\n      default: '#87cefa'\n    },\n    textColor: {\n      type: String,\n      default: '#000000'\n    }\n  },\n  computed: {\n    canvasWidth () {\n      return 1024\n    },\n    canvasHeight () {\n      return 1024\n    }\n  },\n  methods: {\n    printSvg () {\n      this.renderCanvas = true\n      this.$nextTick().then(() => {\n        const mapCanvas = this.$refs.mapCanvas\n        mapCanvas.clearZoom().then(() => {\n          const svgCanvas = mapCanvas.$refs.svgCanvas\n          const dom = svgCanvas.$el\n          const xmlSerializer = new XMLSerializer()\n          const textXml = xmlSerializer.serializeToString(dom)\n          this.downloadText(textXml, this.file.name)\n          this.renderCanvas = false\n        })\n      })\n    },\n    downloadText (text, fileName) {\n      var blob = new Blob([ text ], { 'type': 'text/plain' })\n      if (window.navigator.msSaveBlob) {\n        window.navigator.msSaveBlob(blob, fileName)\n      } else {\n        var a = document.createElement('a')\n        a.href = URL.createObjectURL(blob)\n        a.target = '_blank'\n        a.download = fileName\n        a.click()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.map-canvas {\n  opacity: 0;\n}\n.vc-swatches {\n  width: auto;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/organisms/MapLeftDrawer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tabs',{attrs:{\"grow\":\"\"}},[_c('v-tabs-bar',{staticClass:\"grey lighten-4\",attrs:{\"light\":\"\"}},[_c('v-tabs-item',{staticClass:\"primary--text\",attrs:{\"href\":\"#left-drawer-edit\"}},[_c('v-icon',[_vm._v(\"mode_edit\")])],1),_vm._v(\" \"),_c('v-tabs-item',{staticClass:\"primary--text\",attrs:{\"href\":\"#left-drawer-file\"}},[_c('v-icon',[_vm._v(\"insert_drive_file\")])],1),_vm._v(\" \"),_c('v-tabs-slider',{attrs:{\"color\":\"yellow\"}})],1),_vm._v(\" \"),_c('v-tabs-items',[_c('v-tabs-content',{attrs:{\"id\":'left-drawer-edit'}},[_c('v-list',[_c('v-list-tile',{style:({background: _vm.nodeColor}),on:{\"click\":function($event){_vm.showNodeColorPicker = !_vm.showNodeColorPicker}}},[_c('v-list-tile-action',[_c('v-icon',{style:({color: _vm.textColor})},[_vm._v(\"palette\")])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',{style:({color: _vm.textColor})},[_c('b',[_vm._v(\"Node Color\")])])],1)],1),_vm._v(\" \"),(_vm.showNodeColorPicker)?_c('li',{staticClass:\"picker-box\"},[_c('ColorPicker',{attrs:{\"value\":_vm.nodeColor},on:{\"input\":function (val) { return _vm.$emit('changeNodeColor', val.hex); }}})],1):_vm._e(),_vm._v(\" \"),_c('v-list-tile',{style:({background: _vm.nodeColor}),on:{\"click\":function($event){_vm.showTextColorPicker = !_vm.showTextColorPicker}}},[_c('v-list-tile-action',[_c('v-icon',{style:({color: _vm.textColor})},[_vm._v(\"palette\")])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',{style:({color: _vm.textColor})},[_c('b',[_vm._v(\"Text Color\")])])],1)],1),_vm._v(\" \"),(_vm.showTextColorPicker)?_c('li',{staticClass:\"picker-box\"},[_c('ColorPicker',{attrs:{\"value\":_vm.textColor},on:{\"input\":function (val) { return _vm.$emit('changeTextColor', val.hex); }}})],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-tabs-content',{attrs:{\"id\":'left-drawer-file'}},[_c('v-list',[_c('v-list-tile',{on:{\"click\":_vm.printSvg}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"file_download\")])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"SVG\")])],1)],1),_vm._v(\" \"),(_vm.renderCanvas)?_c('MapCanvas',{ref:\"mapCanvas\",staticClass:\"map-canvas\",attrs:{\"nodes\":_vm.nodes,\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight}}):_vm._e(),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',{on:{\"click\":function($event){_vm.$emit('repairFile')}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"autorenew\")])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Repair file\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d36a405\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/organisms/MapLeftDrawer.vue\n// module id = null\n// module chunks = ","<template>\n<MapLeftDrawer\n  v-if=\"file\"\n  :nodes=\"nodes\"\n  :file=\"file\"\n  :nodeColor=\"nodeColor\"\n  :textColor=\"textColor\"\n  @changeNodeColor=\"changeNodeColor\"\n  @changeTextColor=\"changeTextColor\"\n  @repairFile=\"repairFile\"\n/>\n</template>\n\n<script>\nimport MapLeftDrawer from '@/components/organisms/MapLeftDrawer'\n\nimport { mapGetters, mapActions } from 'vuex'\nimport { getterTypes as nodesGetterTypes, actionTypes as nodesActionTypes } from '@/store/nodes/types'\nimport { getterTypes as settingsGetterTypes, actionTypes as settingsActionTypes } from '@/store/settings/types'\nimport { getterTypes as filesGetterTypes } from '@/store/files/types'\n\nexport default {\n  components: {\n    MapLeftDrawer\n  },\n  computed: {\n    ...mapGetters('nodes', {\n      nodes: nodesGetterTypes.NODES,\n      selectedNodes: nodesGetterTypes.SELECTED_NODES,\n      fileKey: nodesGetterTypes.FILE_KEY\n    }),\n    ...mapGetters('settings', {\n      nodeColor: settingsGetterTypes.NODE_COLOR,\n      textColor: settingsGetterTypes.TEXT_COLOR\n    }),\n    ...mapGetters('files', {\n      files: filesGetterTypes.FILES\n    }),\n    file () {\n      return this.files[this.fileKey]\n    }\n  },\n  methods: {\n    ...mapActions('nodes', {\n      updateNodes: nodesActionTypes.UPDATE_NODES,\n      _repairFile: nodesActionTypes.RESCUE_CONFRICT\n    }),\n    ...mapActions('settings', {\n      setNodeColor: settingsActionTypes.SET_NODE_COLOR,\n      setTextColor: settingsActionTypes.SET_TEXT_COLOR\n    }),\n    changeSelectedNodesProps (props) {\n      const selectedKeys = Object.keys(this.selectedNodes)\n      if (selectedKeys.length > 0) {\n        const updatedNodes = selectedKeys.reduce((p, key) => {\n          p[key] = Object.assign({}, this.nodes[key], props)\n          return p\n        }, {})\n        this.updateNodes({ nodes: updatedNodes })\n      }\n    },\n    changeNodeColor (nodeColor) {\n      this.setNodeColor({nodeColor})\n      this.changeSelectedNodesProps({backgroundColor: nodeColor})\n    },\n    changeTextColor (textColor) {\n      this.setTextColor({textColor})\n      this.changeSelectedNodesProps({color: textColor})\n    },\n    repairFile () {\n      this._repairFile().then(() => {\n        location.reload()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/containers/MapLeftDrawerContainer.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d36a405\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapLeftDrawer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapLeftDrawer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapLeftDrawer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d36a405\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapLeftDrawer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d36a405\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/organisms/MapLeftDrawer.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.file)?_c('MapLeftDrawer',{attrs:{\"nodes\":_vm.nodes,\"file\":_vm.file,\"nodeColor\":_vm.nodeColor,\"textColor\":_vm.textColor},on:{\"changeNodeColor\":_vm.changeNodeColor,\"changeTextColor\":_vm.changeTextColor,\"repairFile\":_vm.repairFile}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22256c46\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/containers/MapLeftDrawerContainer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22256c46\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapLeftDrawerContainer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapLeftDrawerContainer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapLeftDrawerContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22256c46\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapLeftDrawerContainer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22256c46\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/containers/MapLeftDrawerContainer.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"work-space-component\">\n  <v-card>\n    <v-card-title>\n      <v-flex xs6>\n        <v-select\n          class=\"data-kind-select\"\n          :items=\"[{text: 'Work space', value: 'workSpace'}, {text: 'Shared', value: 'shared'}]\"\n          v-model=\"dataKind\"\n          single-line\n          bottom\n          hide-details\n        />\n      </v-flex>\n      <div class=\"header-buttons\">\n        <v-btn\n          v-if=\"!hideEditTools\"\n          dark\n          fab\n          small\n          color=\"green\"\n          @click=\"createFile\"\n        >\n          <v-icon>add</v-icon>\n        </v-btn>\n      </div>\n    </v-card-title>\n    </v-card>\n    <v-card>\n    <v-data-table\n        :headers=\"headers\"\n        :items=\"fileList\"\n        :pagination.sync=\"pagination\"\n        hide-actions\n        must-sort\n        expand\n      >\n      <template slot=\"items\" slot-scope=\"props\">\n        <td class=\"text-xs-left open-file\" @click=\"$router.push({name: 'Map', params: { fileKey: props.item.key }})\">\n          <span class=\"name elevation-1\">{{ props.item.name }}</span>\n        </td>\n        <td class=\"text-xs-right count\">{{ props.item.nodeCount }}</td>\n        <td class=\"text-xs-right datetime\">{{ new Date(props.item.created).toLocaleString() }}</td>\n        <td class=\"text-xs-right datetime\">{{ new Date(props.item.updated).toLocaleString() }}</td>\n        <td class=\"button-column\">\n          <v-edit-dialog\n            lazy\n            v-if=\"canWrite[props.item.key]\"\n          >\n            <v-btn\n              dark\n              fab\n              small\n              color=\"blue\"\n            >\n              <v-icon>edit</v-icon>\n            </v-btn>\n            <v-text-field\n              slot=\"input\"\n              label=\"Edit\"\n              single-line\n              counter\n              :value=\"props.item.name\"\n              @change=\"val => changeName({ key: props.item.key, name: val })\"\n            ></v-text-field>\n          </v-edit-dialog>\n        </td>\n        <td class=\"button-column\">\n          <v-btn\n            v-if=\"!hideEditTools\"\n            dark\n            fab\n            small\n            color=\"black\"\n            outline\n            @click=\"deleteFile(props.item.key)\"\n          >\n            <v-icon>delete</v-icon>\n          </v-btn>\n        </td>\n      </template>\n    </v-data-table>\n    <div class=\"text-xs-center pt-2\">\n      <v-pagination v-model=\"pagination.page\" :length=\"pages\"></v-pagination>\n    </div>\n  </v-card>\n  <v-snackbar\n    bottom\n    right\n    :timeout=\"2000\"\n    v-model=\"snackbar\"\n  >\n    One more click to delete.\n  </v-snackbar>\n</div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    tmp: '',\n    searchText: '',\n    pagination: {\n      page: 1,\n      rowsPerPage: 10,\n      sortBy: 'created',\n      descending: true\n    },\n    headers: [\n      {\n        text: 'Name',\n        align: 'left',\n        value: 'name'\n      },\n      { text: 'Count', value: 'nodeCount' },\n      { text: 'Updated', value: 'updated' },\n      { text: 'Created', value: 'created' },\n      { text: '', value: '', sortable: false },\n      { text: '', value: '', sortable: false }\n    ],\n    snackbar: false,\n    dataKind: 'workSpace'\n  }),\n  props: {\n    files: {\n      type: Object,\n      default: () => ({})\n    },\n    fileAuthorities: {\n      type: Object,\n      default: () => ({})\n    },\n    sharedFiles: {\n      type: Object,\n      default: () => ({})\n    },\n    sharedFileAuthorities: {\n      type: Object,\n      default: () => ({})\n    },\n    user: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  watch: {\n    pagination: {\n      handler () {\n      },\n      deep: true\n    }\n  },\n  computed: {\n    pages () {\n      return this.pagination.rowsPerPage ? Math.ceil(this.fileList.length / this.pagination.rowsPerPage) : 0\n    },\n    currentFiles () {\n      if (this.dataKind === 'shared') {\n        return this.sharedFiles\n      } else {\n        return this.files\n      }\n    },\n    currentFileAuthorities () {\n      if (this.dataKind === 'shared') {\n        return this.sharedFileAuthorities\n      } else {\n        return this.fileAuthorities\n      }\n    },\n    fileList () {\n      return Object.keys(this.currentFiles).map(key => {\n        return Object.assign({}, this.currentFiles[key], { key })\n      })\n    },\n    canWrite () {\n      const uid = this.user.uid\n      const ret = Object.keys(this.currentFileAuthorities).reduce((p, fileKey) => {\n        const fileAuthority = this.currentFileAuthorities[fileKey]\n        if (fileAuthority) {\n          const authority = fileAuthority.users[uid]\n          if (authority) {\n            p[fileKey] = authority.write\n          } else {\n            if (fileAuthority.public) {\n              // this file is public\n              p[fileKey] = fileAuthority.public.write\n            } else {\n              // no authority\n              p[fileKey] = false\n            } \n          }\n        } else {\n              // no authority\n          p[fileKey] = false\n        }\n        return p\n      }, {})\n      return ret\n    },\n    hideEditTools () {\n      return this.dataKind === 'shared'\n    }\n  },\n  methods: {\n    changeName ({ key, name }) {\n      const files = {\n        [key]: Object.assign({}, this.currentFiles[key], { name })\n      }\n      this.$emit('changeName', { files })\n    },\n    createFile () {\n      this.$emit('createFile', {\n        file: { name: 'untitled' }\n      })\n      this.pagination.sortBy = 'created'\n      this.pagination.descending = true\n    },\n    deleteFile (key) {\n      if (this.snackbar) {\n        const files = {\n          [key]: null\n        }\n        this.$emit('deleteFiles', { files })\n        this.snackbar = false\n      } else {\n        this.snackbar = true\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.work-space-component {\n  width: 100%;\n  height: 100%;\n\n  .data-kind-select {\n    padding: 0;\n  }\n  .header-buttons {\n    right: 0;\n    top: 0;\n    position: absolute;\n  }\n  .open-file {\n    cursor: pointer;\n  }\n  .name {\n    padding: 5px 10px;\n    width: 100%;\n    display: inline-block;\n  }\n  .count {\n    width: 50px;\n  }\n  .datetime {\n    width: 50px;\n  }\n  .button-column {\n    width: 50px;\n    padding: 0;\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/organisms/WorkSpace.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"work-space-component\"},[_c('v-card',[_c('v-card-title',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-select',{staticClass:\"data-kind-select\",attrs:{\"items\":[{text: 'Work space', value: 'workSpace'}, {text: 'Shared', value: 'shared'}],\"single-line\":\"\",\"bottom\":\"\",\"hide-details\":\"\"},model:{value:(_vm.dataKind),callback:function ($$v) {_vm.dataKind=$$v},expression:\"dataKind\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"header-buttons\"},[(!_vm.hideEditTools)?_c('v-btn',{attrs:{\"dark\":\"\",\"fab\":\"\",\"small\":\"\",\"color\":\"green\"},on:{\"click\":_vm.createFile}},[_c('v-icon',[_vm._v(\"add\")])],1):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('v-card',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.fileList,\"pagination\":_vm.pagination,\"hide-actions\":\"\",\"must-sort\":\"\",\"expand\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',{staticClass:\"text-xs-left open-file\",on:{\"click\":function($event){_vm.$router.push({name: 'Map', params: { fileKey: props.item.key }})}}},[_c('span',{staticClass:\"name elevation-1\"},[_vm._v(_vm._s(props.item.name))])]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right count\"},[_vm._v(_vm._s(props.item.nodeCount))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right datetime\"},[_vm._v(_vm._s(new Date(props.item.created).toLocaleString()))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right datetime\"},[_vm._v(_vm._s(new Date(props.item.updated).toLocaleString()))]),_vm._v(\" \"),_c('td',{staticClass:\"button-column\"},[(_vm.canWrite[props.item.key])?_c('v-edit-dialog',{attrs:{\"lazy\":\"\"}},[_c('v-btn',{attrs:{\"dark\":\"\",\"fab\":\"\",\"small\":\"\",\"color\":\"blue\"}},[_c('v-icon',[_vm._v(\"edit\")])],1),_vm._v(\" \"),_c('v-text-field',{attrs:{\"slot\":\"input\",\"label\":\"Edit\",\"single-line\":\"\",\"counter\":\"\",\"value\":props.item.name},on:{\"change\":function (val) { return _vm.changeName({ key: props.item.key, name: val }); }},slot:\"input\"})],1):_vm._e()],1),_vm._v(\" \"),_c('td',{staticClass:\"button-column\"},[(!_vm.hideEditTools)?_c('v-btn',{attrs:{\"dark\":\"\",\"fab\":\"\",\"small\":\"\",\"color\":\"black\",\"outline\":\"\"},on:{\"click\":function($event){_vm.deleteFile(props.item.key)}}},[_c('v-icon',[_vm._v(\"delete\")])],1):_vm._e()],1)]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"text-xs-center pt-2\"},[_c('v-pagination',{attrs:{\"length\":_vm.pages},model:{value:(_vm.pagination.page),callback:function ($$v) {_vm.$set(_vm.pagination, \"page\", $$v)},expression:\"pagination.page\"}})],1)],1),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"bottom\":\"\",\"right\":\"\",\"timeout\":2000},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n    One more click to delete.\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a918cd7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/organisms/WorkSpace.vue\n// module id = null\n// module chunks = ","<template>\n<WorkSpace\n  :files=\"files\"\n  :fileAuthorities=\"fileAuthorities\"\n  :sharedFiles=\"sharedFiles\"\n  :sharedFileAuthorities=\"sharedFileAuthorities\"\n  :user=\"user\"\n  @changeName=\"updateFiles\"\n  @createFile=\"createFile\"\n  @deleteFiles=\"deleteFiles\"\n/>\n</template>\n\n<script>\nimport WorkSpace from '@/components/organisms/WorkSpace'\n\nimport { mapGetters, mapActions } from 'vuex'\nimport { getterTypes, actionTypes } from '@/store/files/types'\nimport { getterTypes as userGetterTYpes } from '@/store/user/types'\n\nexport default {\n  components: {\n    WorkSpace\n  },\n  computed: {\n    ...mapGetters('files', {\n      files: getterTypes.FILES,\n      fileAuthorities: getterTypes.FILE_AUTHORITIES,\n      sharedFiles: getterTypes.SHARED_FILES,\n      sharedFileAuthorities: getterTypes.SHARED_FILE_AUTHORITIES\n    }),\n    ...mapGetters('user', {\n      user: userGetterTYpes.USER\n    })\n  },\n  mounted () {\n    this.loadFiles()\n  },\n  methods: {\n    ...mapActions('files', {\n      loadFiles: actionTypes.LOAD_FILES,\n      updateFiles: actionTypes.UPDATE_FILES,\n      createFile: actionTypes.CREATE_FILE,\n      deleteFiles: actionTypes.DELETE_FILES\n    })\n  }\n}\n</script>\n\n<style lang=\"postcss\" scoped>\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/containers/WorkSpaceContainer.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a918cd7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WorkSpace.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WorkSpace.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WorkSpace.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a918cd7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./WorkSpace.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0a918cd7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/organisms/WorkSpace.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WorkSpace',{attrs:{\"files\":_vm.files,\"fileAuthorities\":_vm.fileAuthorities,\"sharedFiles\":_vm.sharedFiles,\"sharedFileAuthorities\":_vm.sharedFileAuthorities,\"user\":_vm.user},on:{\"changeName\":_vm.updateFiles,\"createFile\":_vm.createFile,\"deleteFiles\":_vm.deleteFiles}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35231456\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/containers/WorkSpaceContainer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35231456\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WorkSpaceContainer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WorkSpaceContainer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WorkSpaceContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35231456\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./WorkSpaceContainer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-35231456\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/containers/WorkSpaceContainer.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n// import AppMaps from '@/components/pages/AppMaps'\nimport AppCommonLayout from '@/components/pages/AppCommonLayout'\nimport MapCanvasContainer from '@/components/containers/MapCanvasContainer'\nimport MapMenu from '@/components/containers/MapMenu'\nimport MapLeftDrawerContainer from '@/components/containers/MapLeftDrawerContainer'\nimport WorkSpaceContainer from '@/components/containers/WorkSpaceContainer'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      component: AppCommonLayout,\n      children: [\n        {\n          path: '',\n          name: 'WorkSpace',\n          components: {\n            content: WorkSpaceContainer\n            // headerIconList: MapHelpDialog,\n            // leftDrawer: MapLeftDrawerContainer\n          }\n        },\n        {\n          path: 'map/:fileKey',\n          name: 'Map',\n          components: {\n            content: MapCanvasContainer,\n            headerIconList: MapMenu,\n            leftDrawer: MapLeftDrawerContainer\n          },\n          props: {\n            content: true\n          }\n        }\n      ]\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n  namespaced: true,\n  state: {\n    leftDrawer: false\n  },\n  modules: {},\n  actions,\n  mutations,\n  getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/layouts/index.js","import { actionTypes, mutationTypes } from './types'\n\nexport default {\n  [actionTypes.SET_LEFT_DRAWER] (context, { leftDrawer }) {\n    context.commit(mutationTypes.SET_LEFT_DRAWER, { leftDrawer })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/layouts/actions.js","import { mutationTypes } from './types'\n\nexport default {\n  [mutationTypes.SET_LEFT_DRAWER] (state, { leftDrawer }) {\n    state.leftDrawer = leftDrawer\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/layouts/mutations.js","import { getterTypes } from './types'\n\nexport default {\n  [getterTypes.LEFT_DRAWER] (state) {\n    return state.leftDrawer\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/layouts/getters.js","import { actionTypes, mutationTypes } from './types'\nimport firebase from '@/firebase'\nimport {\n  createNode,\n  getNodeDiff,\n  isConflict,\n  rescueConflict\n} from '@/utils/model'\n\nconst updateNodes =\n  process.env.NODE_ENV === 'test'\n    ? () => {}\n    : (context, { nodes }) => {\n        const fileKey = context.state.fileKey\n        const updates = Object.keys(nodes).reduce((p, c) => {\n          // get new keys for new nodes\n          p[`/nodes/${fileKey}/${c}`] = nodes[c]\n          return p\n        }, {})\n        updates[`/files/${fileKey}/updated`] =\n          firebase.database.ServerValue.TIMESTAMP\n        updates[`/files/${fileKey}/nodeCount`] = Object.keys(\n          Object.assign({}, context.state.nodes, nodes)\n        ).length\n        return firebase\n          .database()\n          .ref()\n          .update(updates)\n      }\n\nconst disconnect =\n  process.env.NODE_ENV === 'test'\n    ? () => {}\n    : context => {\n        return firebase\n          .database()\n          .ref('nodes/' + context.state.fileKey)\n          .off()\n      }\n\nconst connect =\n  process.env.NODE_ENV === 'test'\n    ? () => {}\n    : (context, { fileKey }) => {\n        var commentsRef = firebase.database().ref('nodes/' + fileKey)\n        commentsRef.on('child_added', data => {\n          const nodes = {\n            [data.key]: createNode(data.val())\n          }\n          context.commit(mutationTypes.UPDATE_NODES, { nodes })\n          if (context.state.initialLoading) {\n            context.commit(mutationTypes.SET_INITIAL_LOADING, {\n              initialLoading: false\n            })\n          }\n        })\n        commentsRef.on('child_changed', function (data) {\n          const nodes = {\n            [data.key]: createNode(data.val())\n          }\n          context.commit(mutationTypes.UPDATE_NODES, { nodes })\n        })\n        commentsRef.on('child_removed', function (data) {\n          const nodes = {\n            [data.key]: null\n          }\n          context.commit(mutationTypes.UPDATE_NODES, { nodes })\n        })\n        return Promise.resolve()\n      }\n\nexport default {\n  [actionTypes.DISCONNECT] (context) {\n    if (context.state.fileKey) {\n      disconnect(context)\n    }\n    context.commit(mutationTypes.CLEAR_NODES)\n  },\n  [actionTypes.LOAD_NODES] (context, { fileKey }) {\n    context.dispatch(actionTypes.DISCONNECT)\n    context.commit(mutationTypes.SET_FILE_KEY, { fileKey })\n    context.commit(mutationTypes.SET_INITIAL_LOADING, { initialLoading: true })\n    connect(context, { fileKey })\n  },\n  [actionTypes.UPDATE_NODES] (context, { nodes }) {\n    // get only diff\n    const diff = getNodeDiff({\n      nodes: context.state.nodes,\n      updatedNodes: nodes\n    })\n    if (Object.keys(diff).length === 0) {\n      return\n    }\n    // save undo stack\n    context.commit(mutationTypes.PUSH_UNDO_STACK, { nodes: diff })\n    // local commit\n    context.commit(mutationTypes.UPDATE_NODES, { nodes: diff })\n    // push firebase\n    updateNodes(context, { nodes: diff })\n  },\n  [actionTypes.UNDO_NODES] (context) {\n    return new Promise((resolve, reject) => {\n      const stacks = context.state.undoStacks\n      if (stacks.length > 0) {\n        const nodes = stacks[stacks.length - 1]\n        if (nodes) {\n          // check all parents exist after merging\n          const nextMerged = Object.assign({}, context.state.nodes, nodes)\n          for (const key in nextMerged) {\n            if (!nextMerged[key]) {\n              delete nextMerged[key]\n            }\n          }\n          if (isConflict({ nodes: nextMerged })) {\n            context.commit(mutationTypes.CLEAR_UNDO_STACKS)\n            return reject(\n              new Error('Failed to undo. Others may edit and conflicted.')\n            )\n          } else {\n            // pop undo stack\n            context.commit(mutationTypes.POP_UNDO_STACK)\n            // local commit\n            context.commit(mutationTypes.UPDATE_NODES, { nodes })\n            // push firebase\n            updateNodes(context, { nodes })\n          }\n        }\n      } else {\n        return reject(new Error('No undo history'))\n      }\n      return resolve()\n    })\n  },\n  [actionTypes.REDO_NODES] (context) {\n    return new Promise((resolve, reject) => {\n      const stacks = context.state.redoStacks\n      if (stacks.length > 0) {\n        const nodes = stacks[stacks.length - 1]\n        if (nodes) {\n          // check all parents exist after merging\n          const nextMerged = Object.assign({}, context.state.nodes, nodes)\n          for (const key in nextMerged) {\n            if (!nextMerged[key]) {\n              delete nextMerged[key]\n            }\n          }\n          if (isConflict({ nodes: nextMerged })) {\n            context.commit(mutationTypes.CLEAR_REDO_STACKS)\n            return reject(\n              new Error('Failed to redo. Others may edit and conflicted.')\n            )\n          } else {\n            // pop redo stack\n            context.commit(mutationTypes.POP_REDO_STACK)\n            // local commit\n            context.commit(mutationTypes.UPDATE_NODES, { nodes })\n            // push firebase\n            updateNodes(context, { nodes })\n          }\n        }\n      } else {\n        return reject(new Error('No redo history'))\n      }\n      return resolve()\n    })\n  },\n  [actionTypes.RESCUE_CONFRICT] (context) {\n    if (!isConflict({ nodes: context.state.nodes })) {\n      return Promise.resolve()\n    }\n    const nodes = rescueConflict({ nodes: context.state.nodes })\n    // clear stack\n    context.commit(mutationTypes.CLEAR_STACKS)\n    // clear select\n    context.commit(mutationTypes.SET_SELECTED_NODES, {})\n    // local commit\n    context.commit(mutationTypes.UPDATE_NODES, { nodes })\n    // push firebase\n    return updateNodes(context, { nodes })\n  },\n  [actionTypes.SET_SELECTED_NODES] (context, { selectedNodes }) {\n    context.commit(mutationTypes.SET_SELECTED_NODES, { selectedNodes })\n  },\n  [actionTypes.CLEAR_SELECT] (context) {\n    context.commit(mutationTypes.SET_SELECTED_NODES, {})\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/nodes/actions.js","import Vue from 'vue'\nimport { mutationTypes } from './types'\nimport { createDefaultNodes, copyNode } from '@/utils/model'\n\nexport default {\n  [mutationTypes.UPDATE_NODES] (state, { nodes }) {\n    Object.keys(nodes).forEach(key => {\n      if (nodes[key]) {\n        Vue.set(state.nodes, key, nodes[key])\n      } else {\n        Vue.delete(state.nodes, key)\n      }\n    })\n    if (Object.keys(state.nodes).length === 0) {\n      state.nodes = createDefaultNodes()\n    }\n    state.selectedNodes = Object.keys(state.selectedNodes).reduce((p, c) => {\n      if (state.nodes[c]) {\n        p[c] = true\n      }\n      return p\n    }, {})\n  },\n  [mutationTypes.SET_SELECTED_NODES] (state, { selectedNodes = {} }) {\n    state.selectedNodes = Object.keys(selectedNodes).reduce((p, c) => {\n      if (selectedNodes[c]) {\n        p[c] = true\n      }\n      return p\n    }, {})\n  },\n  [mutationTypes.SET_FILE_KEY] (state, { fileKey }) {\n    state.fileKey = fileKey\n  },\n  [mutationTypes.CLEAR_NODES] (state) {\n    state.fileKey = null\n    state.nodes = createDefaultNodes()\n    state.selectedNodes = {}\n    state.undoStacks = []\n    state.redoStacks = []\n  },\n  [mutationTypes.SET_INITIAL_LOADING] (state, { initialLoading }) {\n    state.initialLoading = initialLoading\n  },\n  [mutationTypes.PUSH_UNDO_STACK] (state, { nodes }) {\n    const current = Object.keys(nodes).reduce((p, c) => {\n      p[c] = state.nodes[c] ? copyNode(state.nodes[c]) : null\n      return p\n    }, {})\n    state.undoStacks.push(Object.assign({}, current))\n    state.redoStacks = []\n  },\n  [mutationTypes.POP_UNDO_STACK] (state) {\n    if (state.undoStacks.length > 0) {\n      const stack = state.undoStacks.pop()\n      const current = Object.keys(stack).reduce((p, c) => {\n        p[c] = state.nodes[c] ? copyNode(state.nodes[c]) : null\n        return p\n      }, {})\n      state.redoStacks.push(current)\n    }\n  },\n  [mutationTypes.POP_REDO_STACK] (state) {\n    if (state.redoStacks.length > 0) {\n      const stack = state.redoStacks.pop()\n      const current = Object.keys(stack).reduce((p, c) => {\n        p[c] = state.nodes[c] ? copyNode(state.nodes[c]) : null\n        return p\n      }, {})\n      state.undoStacks.push(current)\n    }\n  },\n  [mutationTypes.CLEAR_STACKS] (state) {\n    state.undoStacks = []\n    state.redoStacks = []\n  },\n  [mutationTypes.CLEAR_UNDO_STACKS] (state) {\n    state.undoStacks = []\n  },\n  [mutationTypes.CLEAR_REDO_STACKS] (state) {\n    state.redoStacks = []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/nodes/mutations.js","import { getterTypes } from './types'\n\nexport default {\n  [getterTypes.NODES] (state) {\n    return state.nodes\n  },\n  [getterTypes.SELECTED_NODES] (state) {\n    return state.selectedNodes\n  },\n  [getterTypes.FILE_KEY] (state) {\n    return state.fileKey\n  },\n  [getterTypes.INITIAL_LOADING] (state) {\n    return state.initialLoading\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/nodes/getters.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nimport { ROOT_NODE } from '@/constants'\nimport { createNode } from '@/utils/model'\n\nexport default {\n  namespaced: true,\n  state: {\n    fileKey: null,\n    nodes: {\n      [ROOT_NODE]: createNode()\n    },\n    selectedNodes: {},\n    initialLoading: true,\n    undoStacks: [],\n    redoStacks: []\n  },\n  modules: {},\n  actions,\n  mutations,\n  getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/nodes/index.js","import { actionTypes, mutationTypes } from './types'\nimport firebase from '@/firebase'\n\nexport default {\n  [actionTypes.LOAD_USER] (context) {\n    context.commit(mutationTypes.SET_AUTHORITY_LOADING, true)\n    firebase.auth().onAuthStateChanged(user => {\n      context.commit(mutationTypes.SET_AUTHORITY_LOADING, true)\n      if (user) {\n        context.commit(mutationTypes.SET_USER, user)\n        context.commit(mutationTypes.SET_AUTHORITY_LOADING, !user)\n      } else {\n        firebase\n          .auth()\n          .getRedirectResult()\n          .then(result => {\n            // The signed-in user info.\n            context.commit(mutationTypes.SET_USER, result.user)\n            context.commit(mutationTypes.SET_AUTHORITY_LOADING, !result.user)\n          })\n          .catch(error => {\n            console.log(error.code, error.message)\n          })\n      }\n    })\n  },\n  [actionTypes.SIGN_OUT] (context) {\n    return new Promise((resolve, reject) => {\n      context.commit(mutationTypes.SET_AUTHORITY_LOADING, true)\n      firebase\n        .auth()\n        .signOut()\n        .then(() => {\n          // Sign-out successful.\n          context.commit(mutationTypes.SET_USER, null)\n          resolve()\n        })\n        .catch(error => {\n          // An error happened.\n          context.commit(mutationTypes.SET_USER, null)\n          reject(error)\n        })\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/user/actions.js","import { mutationTypes } from './types'\n\nexport default {\n  [mutationTypes.SET_USER] (state, user) {\n    if (user) {\n      state.user = {\n        uid: user.uid,\n        displayName: user.displayName,\n        email: user.email,\n        photoURL: user.photoURL\n      }\n      state.authorityLoading = false\n    } else {\n      state.user = null\n      state.authorityLoading = true\n    }\n  },\n  [mutationTypes.SET_AUTHORITY_LOADING] (state, val) {\n    state.authorityLoading = val\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/user/mutations.js","import { getterTypes } from './types'\n\nexport default {\n  [getterTypes.USER] (state, getters) {\n    return state.user\n  },\n  [getterTypes.AUTHORITY_LOADING] (state, getters) {\n    return state.authorityLoading\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/user/getters.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nimport { createUser } from '@/utils/model'\n\nexport default {\n  namespaced: true,\n  state: {\n    user: createUser(),\n    authorityLoading: true\n  },\n  modules: {},\n  actions,\n  mutations,\n  getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/user/index.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n  namespaced: true,\n  state: {\n    files: {},\n    fileAuthorities: {},\n    sharedFiles: {},\n    sharedFileAuthorities: {}\n  },\n  modules: {},\n  actions,\n  mutations,\n  getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/files/index.js","import { actionTypes, mutationTypes, getterTypes } from './types'\nimport firebase from '@/firebase'\nimport { createFile } from '@/utils/model'\n\nexport default {\n  [actionTypes.LOAD_FILE] (context, { key }) {\n    const uid = firebase.auth().currentUser.uid\n    let isMyFile = false\n    firebase\n      .database()\n      .ref(`/work_spaces/${uid}/files/${key}`)\n      .once('value')\n      .then(snapshot => {\n        isMyFile = snapshot.exists()\n        return Promise.resolve()\n      })\n      .then(() => {\n        firebase\n          .database()\n          .ref(`/file_authorities/${key}`)\n          .once('value')\n          .then(snapshot => {\n            const fileAuthority = snapshot.val()\n            if (isMyFile) {\n              context.commit(mutationTypes.UPDATE_FILE_AUTHORITIES, {\n                fileAuthorities: {\n                  [key]: fileAuthority\n                }\n              })\n            } else {\n              context.commit(mutationTypes.UPDATE_SHARED_FILE_AUTHORITIES, {\n                sharedFileAuthorities: {\n                  [key]: fileAuthority\n                }\n              })\n            }\n          })\n        firebase\n          .database()\n          .ref(`/files/${key}`)\n          .once('value')\n          .then(snapshot => {\n            const file = snapshot.val()\n            if (isMyFile) {\n              context.commit(mutationTypes.UPDATE_FILES, {\n                files: {\n                  [key]: file\n                }\n              })\n            } else {\n              context.commit(mutationTypes.UPDATE_SHARED_FILES, {\n                sharedFiles: {\n                  [key]: file\n                }\n              })\n            }\n          })\n      })\n  },\n  [actionTypes.LOAD_FILES] (context, payload) {\n    context.commit(mutationTypes.CLEAR_FILES)\n\n    const uid = firebase.auth().currentUser.uid\n    firebase\n      .database()\n      .ref(`/work_spaces/${uid}`)\n      .once('value')\n      .then(snapshot => {\n        const workSpace = snapshot.val()\n        if (!workSpace) {\n          return\n        }\n        const fileKeys = workSpace['files'] || {}\n        const shredFileKeys = workSpace['invited_files'] || {}\n        Object.keys(fileKeys).forEach(key => {\n          firebase\n            .database()\n            .ref(`/file_authorities/${key}`)\n            .once('value')\n            .then(snapshot => {\n              const fileAuthority = snapshot.val()\n              context.commit(mutationTypes.UPDATE_FILE_AUTHORITIES, {\n                fileAuthorities: {\n                  [key]: fileAuthority\n                }\n              })\n            })\n          firebase\n            .database()\n            .ref(`/files/${key}`)\n            .once('value')\n            .then(snapshot => {\n              const file = snapshot.val()\n              context.commit(mutationTypes.UPDATE_FILES, {\n                files: {\n                  [key]: file\n                }\n              })\n            })\n        })\n        Object.keys(shredFileKeys).forEach(key => {\n          firebase\n            .database()\n            .ref(`/file_authorities/${key}`)\n            .once('value')\n            .then(snapshot => {\n              const fileAuthority = snapshot.val()\n              context.commit(mutationTypes.UPDATE_SHARED_FILE_AUTHORITIES, {\n                sharedFileAuthorities: {\n                  [key]: fileAuthority\n                }\n              })\n            })\n          firebase\n            .database()\n            .ref(`/files/${key}`)\n            .once('value')\n            .then(snapshot => {\n              const file = snapshot.val()\n              context.commit(mutationTypes.UPDATE_SHARED_FILES, {\n                sharedFiles: {\n                  [key]: file\n                }\n              })\n            })\n        })\n      })\n  },\n  [actionTypes.UPDATE_FILES] (context, { files = {} }) {\n    const updates = Object.keys(files).reduce((p, c) => {\n      p[`/files/${c}`] = files[c]\n      return p\n    }, {})\n    firebase\n      .database()\n      .ref()\n      .update(updates)\n      .then(() => {\n        context.commit(mutationTypes.UPDATE_FILES, { files })\n      })\n  },\n  [actionTypes.CREATE_FILE] (context, { file = {} }) {\n    const uid = firebase.auth().currentUser.uid\n    // get new key\n    const fileKey = firebase\n      .database()\n      .ref()\n      .child('file_authorities')\n      .push().key\n    // create the authority setting at first\n    firebase\n      .database()\n      .ref(`/file_authorities/${fileKey}/users/${uid}`)\n      .set({\n        write: true\n      })\n      .then(() => {\n        // local commit the authority\n        context.commit(mutationTypes.UPDATE_FILE_AUTHORITIES, {\n          fileAuthorities: {\n            [fileKey]: {\n              users: {\n                [uid]: {\n                  write: true\n                }\n              }\n            }\n          }\n        })\n        // create the file\n        const newFile = Object.assign({}, createFile(file), {\n          created: firebase.database.ServerValue.TIMESTAMP,\n          updated: firebase.database.ServerValue.TIMESTAMP\n        })\n        const updates = {}\n        updates[`/files/${fileKey}`] = newFile\n        updates[`/work_spaces/${uid}/files/${fileKey}`] = true\n        return firebase\n          .database()\n          .ref()\n          .update(updates)\n      })\n      .then(() => {\n        // reload the file\n        return firebase\n          .database()\n          .ref(`/files/${fileKey}`)\n          .once('value')\n      })\n      .then(snapshot => {\n        context.commit(mutationTypes.UPDATE_FILES, {\n          files: {\n            [fileKey]: snapshot.val()\n          }\n        })\n      })\n  },\n  [actionTypes.DELETE_FILES] (context, { files }) {\n    const uid = firebase.auth().currentUser.uid\n    // this operation triggers cloud functions to delete files\n    const updates = Object.keys(files).reduce((p, c) => {\n      p[`/work_spaces/${uid}/files/${c}`] = null\n      return p\n    }, {})\n    firebase\n      .database()\n      .ref()\n      .update(updates)\n      .then(() => {\n        // commit\n        context.commit(mutationTypes.UPDATE_FILES, { files })\n        return Promise.resolve()\n      })\n  },\n  [actionTypes.INVITE_USER] (context, { email, fileKey, readOnly }) {\n    const key = firebase\n      .database()\n      .ref()\n      .child('file_invitations')\n      .push().key\n    firebase\n      .database()\n      .ref(`/file_invitations/${fileKey}/${key}`)\n      .set({\n        email,\n        write: !readOnly\n      })\n      .then(() => {})\n  },\n  [actionTypes.UPDATE_STATUS] (context, { publicFile, readOnly, fileKey }) {\n    const status = publicFile\n      ? {\n          write: !readOnly\n        }\n      : null\n    return firebase\n      .database()\n      .ref(`/file_authorities/${fileKey}/public`)\n      .set(status)\n      .then(() => {\n        return firebase\n          .database()\n          .ref(`/file_authorities/${fileKey}`)\n          .once('value')\n      })\n      .then(snapshot => {\n        const isMyFile = context.getters[getterTypes.IS_MY_FILE_FROM_KEY]({\n          fileKey\n        })\n        const fileAuthority = snapshot.val()\n        if (isMyFile) {\n          context.commit(mutationTypes.UPDATE_FILE_AUTHORITIES, {\n            fileAuthorities: {\n              [fileKey]: fileAuthority\n            }\n          })\n        } else {\n          context.commit(mutationTypes.UPDATE_SHARED_FILE_AUTHORITIES, {\n            sharedFileAuthorities: {\n              [fileKey]: fileAuthority\n            }\n          })\n        }\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/files/actions.js","import Vue from 'vue'\nimport { mutationTypes } from './types'\n\nexport default {\n  [mutationTypes.UPDATE_FILES] (state, { files }) {\n    Object.keys(files).forEach(key => {\n      if (files[key]) {\n        Vue.set(state.files, key, files[key])\n      } else {\n        Vue.delete(state.files, key)\n      }\n    })\n  },\n  [mutationTypes.UPDATE_FILE_AUTHORITIES] (state, { fileAuthorities }) {\n    Object.keys(fileAuthorities).forEach(key => {\n      if (fileAuthorities[key]) {\n        Vue.set(state.fileAuthorities, key, fileAuthorities[key])\n      } else {\n        Vue.delete(state.fileAuthorities, key)\n      }\n    })\n  },\n  [mutationTypes.UPDATE_SHARED_FILES] (state, { sharedFiles }) {\n    Object.keys(sharedFiles).forEach(key => {\n      if (sharedFiles[key]) {\n        Vue.set(state.sharedFiles, key, sharedFiles[key])\n      } else {\n        Vue.delete(state.sharedFiles, key)\n      }\n    })\n  },\n  [mutationTypes.UPDATE_SHARED_FILE_AUTHORITIES] (\n    state,\n    { sharedFileAuthorities }\n  ) {\n    Object.keys(sharedFileAuthorities).forEach(key => {\n      if (sharedFileAuthorities[key]) {\n        Vue.set(state.sharedFileAuthorities, key, sharedFileAuthorities[key])\n      } else {\n        Vue.delete(state.sharedFileAuthorities, key)\n      }\n    })\n  },\n  [mutationTypes.CLEAR_FILES] (state) {\n    state.files = {}\n    state.fileAuthorities = {}\n    state.sharedFiles = {}\n    state.sharedFileAuthorities = {}\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/files/mutations.js","import { getterTypes } from './types'\n\nexport default {\n  [getterTypes.FILES] (state) {\n    return state.files\n  },\n  [getterTypes.FILE_AUTHORITIES] (state) {\n    return state.fileAuthorities\n  },\n  [getterTypes.SHARED_FILES] (state) {\n    return state.sharedFiles\n  },\n  [getterTypes.SHARED_FILE_AUTHORITIES] (state) {\n    return state.sharedFileAuthorities\n  },\n  [getterTypes.FILE_FROM_KEY]: state => ({ fileKey }) => {\n    return state.sharedFiles[fileKey] || state.files[fileKey] || null\n  },\n  [getterTypes.FILE_AUTHORITY_FROM_KEY]: state => ({ fileKey }) => {\n    return (\n      state.sharedFileAuthorities[fileKey] ||\n      state.fileAuthorities[fileKey] ||\n      null\n    )\n  },\n  [getterTypes.IS_MY_FILE_FROM_KEY]: state => ({ fileKey }) => {\n    return fileKey in state.files\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/files/getters.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n  namespaced: true,\n  state: {\n    nodeColor: '#B3E5FC',\n    textColor: '#000000'\n  },\n  modules: {},\n  actions,\n  mutations,\n  getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/settings/index.js","import { actionTypes, mutationTypes } from './types'\n\nexport default {\n  [actionTypes.SET_NODE_COLOR] (context, { nodeColor }) {\n    context.commit(mutationTypes.SET_NODE_COLOR, { nodeColor })\n  },\n  [actionTypes.SET_TEXT_COLOR] (context, { textColor }) {\n    context.commit(mutationTypes.SET_TEXT_COLOR, { textColor })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/settings/actions.js","import { mutationTypes } from './types'\n\nexport default {\n  [mutationTypes.SET_NODE_COLOR] (state, { nodeColor }) {\n    state.nodeColor = nodeColor\n  },\n  [mutationTypes.SET_TEXT_COLOR] (state, { textColor }) {\n    state.textColor = textColor\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/settings/mutations.js","import { getterTypes } from './types'\n\nexport default {\n  [getterTypes.NODE_COLOR] (state) {\n    return state.nodeColor\n  },\n  [getterTypes.TEXT_COLOR] (state) {\n    return state.textColor\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/settings/getters.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport layouts from './layouts'\nimport nodes from './nodes'\nimport user from './user'\nimport files from './files'\nimport settings from './settings'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  strict: process.env.NODE_ENV !== 'production',\n  namespaced: true,\n  state: {},\n  modules: {\n    files,\n    layouts,\n    nodes,\n    settings,\n    user\n  },\n  mutations: {}\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\n\nconst windowStatePlugin = {\n  install: function (Vue) {\n    // \n    var state = {\n      scrollX: 0,\n      scrollY: 0,\n      width: 0,\n      height: 0\n    }\n    // // \n    // var onScroll = function () {\n    //   state.scrollX = window.pageXOffset\n    //   state.scrollY = window.pageYOffset\n    // }\n    // document.addEventListener('scroll', onScroll)\n    // \n    var onResize = function () {\n      state.width = document.documentElement.clientWidth\n      state.height = document.documentElement.clientHeight\n    }\n    window.addEventListener('resize', onResize)\n    onResize()\n\n    // // \n    // window.addEventListener('load', onScroll)\n    //  $window \n    Vue.util.defineReactive(Vue.prototype, '$window', state)\n  }\n}\nVue.use(windowStatePlugin)\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/windowState.js","import Vue from 'vue'\nconst isMobile = require('ismobilejs')\n\nconst plugin = {\n  install: function (Vue) {\n    Vue.util.defineReactive(Vue.prototype, '$isMobile', isMobile)\n  }\n}\nVue.use(plugin)\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/isMobile.js","import Vue from 'vue'\n\nif (!window.trackJs) {\n  window.trackJs = {\n    track () {\n      console.log('trackJs', arguments)\n    }\n  }\n}\n\nVue.config.errorHandler = (err, vm, info) => {\n  // Log properties passed to the component if there are any\n  if (vm.$options.propsData) {\n    console.log('Props passed to component', vm.$options.propsData)\n  }\n\n  // Emit component name and also the lifecycle hook the error occured in if present\n  var infoMessage = `Error in component: <${vm.$options.name} />\\n`\n  if (info) {\n    infoMessage += `Error occurred during lifecycle hook: ${info}\\n`\n  }\n\n  // This puts the additional error information in the Telemetry Timeline\n  console.log(infoMessage)\n\n  // Track the native JS error\n  window.trackJs.track(err)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/trackJs.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport Vuetify from 'vuetify'\nimport './utils/windowState'\nimport './utils/isMobile'\nimport './utils/trackJs'\n\nimport 'ress'\nimport 'vuetify/dist/vuetify.min.css'\nimport '@/assets/styles/icons.css'\n\nVue.use(Vuetify)\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/googlelogo_color_90x40dp.png\n// module id = y/zs\n// module chunks = 1"],"sourceRoot":""}